{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Chart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Chart.vue","mtime":1598334257909},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBnb29nbGUgZnJvbSAnZ29vZ2xlJzsKaW1wb3J0IHV0aWwgZnJvbSAnLi4vdXRpbC5qcyc7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7Ci8vIGltcG9ydCAnaHRtbDJjYW52YXMnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0NoYXJ0JywKICAgIHByb3BzOiBbCiAgICAgICAgJ2l0ZW1pemVkSW5jb21lcycsICdpdGVtaXplZEV4cGVuc2VzJywgJ2l0ZW1pemVkSW52ZXN0bWVudHMnLAogICAgICAgICdncm9zc1N1bScsICduZXRTdW0nLCAndGF4U3VtJywgJ3VuYWxsb2NhdGVkU3VtJywgJ2ludmVzdG1lbnRTdW0nLCAnZXhwZW5zZVN1bScKICAgIF0sCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAvLyBjaGFydCBsYWJlbHMKICAgICAgICAgICAgZ3Jvc3M6IHsgbGFiZWw6ICdHcm9zcyBJbmNvbWUnLCB2YWx1ZTogdGhpcy5ncm9zc1N1bSB9LAogICAgICAgICAgICBuZXQ6IHsgbGFiZWw6ICdOZXQgSW5jb21lJywgdmFsdWU6IHRoaXMubmV0U3VtIH0sCiAgICAgICAgICAgIHRheDogeyBsYWJlbDogJ1RheGVzJywgdmFsdWU6IHRoaXMudGF4U3VtIH0sCiAgICAgICAgICAgIHVuYWxsb2NhdGVkOiB7IGxhYmVsOiAnVW5hbGxvY2F0ZWQnLCB2YWx1ZTogdGhpcy51bmFsbG9jYXRlZFN1bSB9LAogICAgICAgICAgICBleHBlbnNlczogeyBsYWJlbDogJ0V4cGVuc2VzJywgdmFsdWU6IHRoaXMuZXhwZW5zZVN1bSB9LAogICAgICAgICAgICBpbnZlc3RtZW50czogeyBsYWJlbDogJ0ludmVzdG1lbnRzJywgdmFsdWU6IHRoaXMuaW52ZXN0bWVudFN1bSB9LAoKICAgICAgICAgICAgLy8gY2hhcnQgcmVuZGVyaW5nCiAgICAgICAgICAgIGNoYXJ0OiBmYWxzZSwKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCAoKSB7CiAgICAgICAgZ29vZ2xlLmNoYXJ0cy5sb2FkKCdjdXJyZW50JywgeydwYWNrYWdlcyc6WydzYW5rZXknXX0pOwogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgZ3Jvc3NTdW06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5ncm9zcy52YWx1ZSA9IHRoaXMuZ3Jvc3NTdW07CiAgICAgICAgICAgIGlmICh0aGlzLmdyb3NzLnZhbHVlICE9IDApIHRoaXMucmVuZGVyKCk7CiAgICAgICAgfSwKICAgICAgICBuZXRTdW06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5uZXQudmFsdWUgPSB0aGlzLm5ldFN1bTsKICAgICAgICAgICAgaWYgKHRoaXMubmV0LnZhbHVlICE9IDApIHRoaXMucmVuZGVyKCk7CiAgICAgICAgfSwKICAgICAgICB0YXhTdW06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy50YXgudmFsdWUgPSB0aGlzLnRheFN1bTsKICAgICAgICAgICAgaWYgKHRoaXMudGF4LnZhbHVlICE9IDApIHRoaXMucmVuZGVyKCk7CiAgICAgICAgfSwKICAgICAgICB1bmFsbG9jYXRlZFN1bTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLnVuYWxsb2NhdGVkLnZhbHVlID0gdGhpcy51bmFsbG9jYXRlZFN1bTsKICAgICAgICAgICAgaWYgKHRoaXMudW5hbGxvY2F0ZWQudmFsdWUgIT0gMCkgdGhpcy5yZW5kZXIoKTsKICAgICAgICB9LAogICAgICAgIGV4cGVuc2VTdW06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5leHBlbnNlcy52YWx1ZSA9IHRoaXMuZXhwZW5zZVN1bTsKICAgICAgICAgICAgaWYgKHRoaXMuZXhwZW5zZXMudmFsdWUgIT0gMCkgdGhpcy5yZW5kZXIoKTsKICAgICAgICB9LAogICAgICAgIGludmVzdG1lbnRTdW06IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5pbnZlc3RtZW50cy52YWx1ZSA9IHRoaXMuaW52ZXN0bWVudFN1bTsKICAgICAgICAgICAgaWYgKHRoaXMuaW52ZXN0bWVudHMudmFsdWUgIT0gMCkgdGhpcy5yZW5kZXIoKTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBnb29nbGUuY2hhcnRzLnNldE9uTG9hZENhbGxiYWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY2hhcnQgPSBuZXcgZ29vZ2xlLnZpc3VhbGl6YXRpb24uRGF0YVRhYmxlKCk7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0LmFkZENvbHVtbignc3RyaW5nJywgJ0Zyb20nKTsKICAgICAgICAgICAgICAgIHRoaXMuY2hhcnQuYWRkQ29sdW1uKCdzdHJpbmcnLCAnVG8nKTsKICAgICAgICAgICAgICAgIHRoaXMuY2hhcnQuYWRkQ29sdW1uKCdudW1iZXInLCAnQW1vdW50Jyk7CiAgICAgICAgICAgICAgICB0aGlzLmRyYXdJbmNvbWVCcmVha2Rvd24oKTsKICAgICAgICAgICAgICAgIHRoaXMuZHJhd0V4cGVuc2VzQnJlYWtkb3duKCk7CiAgICAgICAgICAgICAgICB0aGlzLmRyYXdJbnZlc3RtZW50QnJlYWtkb3duKCk7CgogICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYW5rZXknKTsKICAgICAgICAgICAgICAgIHZhciBjaGFydCA9IG5ldyBnb29nbGUudmlzdWFsaXphdGlvbi5TYW5rZXkoY2FudmFzKTsKICAgICAgICAgICAgICAgIGNoYXJ0LmRyYXcodGhpcy5jaGFydCwgdGhpcy5nZXRDaGFydFN0eWxpbmcoKSk7CgogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgICAgICAqIEluY29tZQogICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgICAgICBkcmF3SW5jb21lQnJlYWtkb3duOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuZHJhd0dyb3NzSW5jb21lKCk7CiAgICAgICAgICAgIHRoaXMuZHJhd1RheGVzKCk7CiAgICAgICAgICAgIHRoaXMuZHJhd05ldEluY29tZSgpOwogICAgICAgIH0sCiAgICAgICAgLy8gZHJhdyBsaW5lczogaW5jb21lIHN0cmVhbXMgLT4gZ3Jvc3MKICAgICAgICAvLyB0cmVhdCBlbXBsb3llZSBtYXRjaGVzIGFzIHNlcGFyYXRlIGluY29tZSBzdHJlYW1zCiAgICAgICAgZHJhd0dyb3NzSW5jb21lOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuaXRlbWl6ZWRJbmNvbWVzLmZvckVhY2goc3RyZWFtID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnRSb3coc3RyZWFtLCB0aGlzLmdyb3NzKTsKICAgICAgICAgICAgICAgIHN0cmVhbS5leGVtcHRpb25zLmZvckVhY2goZXhlbXB0aW9uID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXhlbXB0aW9uLm1hdGNoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSB7bGFiZWw6IGV4ZW1wdGlvbi5sYWJlbCsnIE1hdGNoJywgdmFsdWU6IGV4ZW1wdGlvbi5tYXRjaH07CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnRSb3cobWF0Y2gsIHRoaXMuZ3Jvc3MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8gZHJhdyBsaW5lOiBncm9zcyAtPiB0YXhlcwogICAgICAgIC8vIGRyYXcgbGluZTogdGF4ZXMgLT4gdGF4ZXMKICAgICAgICAvLyBkcmF3IGxpbmU6IHRheGVzIC0+IHRheGVzCiAgICAgICAgZHJhd1RheGVzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnRSb3codGhpcy5ncm9zcywgdGhpcy50YXgpOwogICAgICAgICAgICB0aGlzLmFkZENoYXJ0Um93KHRoaXMudGF4LCB0aGlzLnRheCk7CiAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnRSb3codGhpcy50YXgsIHRoaXMudGF4KTsKICAgICAgICB9LAogICAgICAgIC8vIGRyYXcgbGluZTogZ3Jvc3MgLT4gbmV0CiAgICAgICAgZHJhd05ldEluY29tZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmFkZENoYXJ0Um93KHRoaXMuZ3Jvc3MsIHRoaXMubmV0KTsKICAgICAgICB9LAogICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgICAgICAqIEV4cGVuc2VzCiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgICAgIGRyYXdFeHBlbnNlc0JyZWFrZG93bjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLml0ZW1pemVkRXhwZW5zZXMuZm9yRWFjaChleHBlbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnRSb3codGhpcy5uZXQsIGV4cGVuc2UpOwogICAgICAgICAgICAgICAgdGhpcy5hZGRDaGFydFJvdyhleHBlbnNlLCB0aGlzLmV4cGVuc2VzKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgICAgICAqIEludmVzdG1lbnRzCiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgICAgIGRyYXdJbnZlc3RtZW50QnJlYWtkb3duOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuZHJhd0V4ZW1wdGlvbnMoKTsKICAgICAgICAgICAgdGhpcy5pdGVtaXplZEludmVzdG1lbnRzLmZvckVhY2goaW52ZXN0bWVudCA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmFkZENoYXJ0Um93KHRoaXMubmV0LCBpbnZlc3RtZW50KTsKICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnRSb3coaW52ZXN0bWVudCwgdGhpcy5pbnZlc3RtZW50cyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnRSb3codGhpcy5uZXQsIHRoaXMudW5hbGxvY2F0ZWQpOwogICAgICAgICAgICB0aGlzLmFkZENoYXJ0Um93KHRoaXMudW5hbGxvY2F0ZWQsIHRoaXMudW5hbGxvY2F0ZWQpOwogICAgICAgIH0sCiAgICAgICAgZHJhd0V4ZW1wdGlvbnM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5pdGVtaXplZEluY29tZXMuZm9yRWFjaChzdHJlYW0gPT4gewogICAgICAgICAgICAgICAgc3RyZWFtLmV4ZW1wdGlvbnMuZm9yRWFjaChleGVtcHRpb24gPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hhcnRSb3codGhpcy5uZXQsIGV4ZW1wdGlvbik7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDaGFydFJvdyhleGVtcHRpb24sIHRoaXMuaW52ZXN0bWVudHMpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgICAgICAgKiBDaGFydCBTdHVmZgogICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgICAgICBhZGRDaGFydFJvdzogZnVuY3Rpb24gKGZyb20sIHRvKSB7CiAgICAgICAgICAgIHZhciBhcHBlbmQgPSB0by5sYWJlbCA9PSBmcm9tLmxhYmVsID8gJyAnIDogJyc7CiAgICAgICAgICAgIGxldCB2YWx1ZSA9IE1hdGgubWluKGZyb20udmFsdWUsIHRvLnZhbHVlKTsKICAgICAgICAgICAgbGV0IGZyb21fbGFiZWwgPSBmcm9tLmxhYmVsICsgJyAoJyArIHV0aWwuZm9ybWF0TW9uZXkoZnJvbS52YWx1ZSkgKyAnKSc7CiAgICAgICAgICAgIGxldCB0b19sYWJlbCAgID0gdG8ubGFiZWwgICArIGFwcGVuZCArICcgKCcgKyB1dGlsLmZvcm1hdE1vbmV5KHRvLnZhbHVlKSArICcpJzsKICAgICAgICAgICAgdGhpcy5jaGFydC5hZGRSb3coW2Zyb21fbGFiZWwsIHRvX2xhYmVsLCB2YWx1ZV0pOwogICAgICAgICAgICB0by5sYWJlbCArPSBhcHBlbmQ7CiAgICAgICAgfSwKICAgICAgICBnZXRDaGFydFVybDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyAkKCcjc2Fua2V5JykuaHRtbDJjYW52YXMoKTsKICAgICAgICAgICAgLy8gdmFyIHF1ZXVlID0gd2luZG93Lmh0bWwyY2FudmFzLlBhcnNlKCk7CiAgICAgICAgICAgIC8vIHZhciBjYW52YXMgPSB3aW5kb3cuaHRtbDJjYW52YXMuUmVuZGVyZXIocXVldWUse2VsZW1lbnRzOntsZW5ndGg6MX19KTsKICAgICAgICAgICAgLy8gdmFyIGltZyA9IGNhbnZhcy50b0RhdGFVUkwoKTsKICAgICAgICAgICAgLy8gd2luZG93Lm9wZW4oaW1nKTsKICAgICAgICB9LAogICAgICAgIGdldENoYXJ0U3R5bGluZzogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgY29sb3JzID0gWwogICAgICAgICAgICAgICAgJyNhNmNlZTMnLCAnI2IyZGY4YScsICcjZmI5YTk5JywgJyNmZGJmNmYnLAogICAgICAgICAgICAgICAgJyNjYWIyZDYnLCAnI2ZmZmY5OScsICcjMWY3OGI0JywgJyMzM2EwMmMnCiAgICAgICAgICAgIF07CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBzYW5rZXk6IHsKICAgICAgICAgICAgICAgICAgICBub2RlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yczogY29sb3JzLAogICAgICAgICAgICAgICAgICAgICAgICBub2RlUGFkZGluZzogNwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgbGluazogewogICAgICAgICAgICAgICAgICAgICAgICBjb2xvck1vZGU6ICdncmFkaWVudCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yczogY29sb3JzCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBpdGVyYXRpb25zOiAwLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Chart.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Chart.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div id=\"sankey\"></div>\n        <button v-on:click=\"getChartUrl()\">Get</button>\n    </div>\n</template>\n\n<script>\nimport google from 'google';\nimport util from '../util.js';\nimport $ from 'jquery';\n// import 'html2canvas';\n\nexport default {\n    name: 'Chart',\n    props: [\n        'itemizedIncomes', 'itemizedExpenses', 'itemizedInvestments',\n        'grossSum', 'netSum', 'taxSum', 'unallocatedSum', 'investmentSum', 'expenseSum'\n    ],\n    data () {\n        return {\n            // chart labels\n            gross: { label: 'Gross Income', value: this.grossSum },\n            net: { label: 'Net Income', value: this.netSum },\n            tax: { label: 'Taxes', value: this.taxSum },\n            unallocated: { label: 'Unallocated', value: this.unallocatedSum },\n            expenses: { label: 'Expenses', value: this.expenseSum },\n            investments: { label: 'Investments', value: this.investmentSum },\n\n            // chart rendering\n            chart: false,\n        }\n    },\n    mounted () {\n        google.charts.load('current', {'packages':['sankey']});\n    },\n    watch: {\n        grossSum: function () {\n            this.gross.value = this.grossSum;\n            if (this.gross.value != 0) this.render();\n        },\n        netSum: function () {\n            this.net.value = this.netSum;\n            if (this.net.value != 0) this.render();\n        },\n        taxSum: function () {\n            this.tax.value = this.taxSum;\n            if (this.tax.value != 0) this.render();\n        },\n        unallocatedSum: function () {\n            this.unallocated.value = this.unallocatedSum;\n            if (this.unallocated.value != 0) this.render();\n        },\n        expenseSum: function () {\n            this.expenses.value = this.expenseSum;\n            if (this.expenses.value != 0) this.render();\n        },\n        investmentSum: function () {\n            this.investments.value = this.investmentSum;\n            if (this.investments.value != 0) this.render();\n        }\n    },\n    methods: {\n        render: function () {\n            google.charts.setOnLoadCallback(() => {\n                this.chart = new google.visualization.DataTable();\n                this.chart.addColumn('string', 'From');\n                this.chart.addColumn('string', 'To');\n                this.chart.addColumn('number', 'Amount');\n                this.drawIncomeBreakdown();\n                this.drawExpensesBreakdown();\n                this.drawInvestmentBreakdown();\n\n                var canvas = document.getElementById('sankey');\n                var chart = new google.visualization.Sankey(canvas);\n                chart.draw(this.chart, this.getChartStyling());\n\n            });\n        },\n        /**************************************************************\n         * Income\n         **************************************************************/\n        drawIncomeBreakdown: function () {\n            this.drawGrossIncome();\n            this.drawTaxes();\n            this.drawNetIncome();\n        },\n        // draw lines: income streams -> gross\n        // treat employee matches as separate income streams\n        drawGrossIncome: function () {\n            this.itemizedIncomes.forEach(stream => {\n                this.addChartRow(stream, this.gross);\n                stream.exemptions.forEach(exemption => {\n                    if (exemption.match > 0) {\n                        var match = {label: exemption.label+' Match', value: exemption.match};\n                        this.addChartRow(match, this.gross);\n                    }\n                });\n            })\n        },\n        // draw line: gross -> taxes\n        // draw line: taxes -> taxes\n        // draw line: taxes -> taxes\n        drawTaxes: function () {\n            this.addChartRow(this.gross, this.tax);\n            this.addChartRow(this.tax, this.tax);\n            this.addChartRow(this.tax, this.tax);\n        },\n        // draw line: gross -> net\n        drawNetIncome: function () {\n            this.addChartRow(this.gross, this.net);\n        },\n        /**************************************************************\n         * Expenses\n         **************************************************************/\n        drawExpensesBreakdown: function () {\n            this.itemizedExpenses.forEach(expense => {\n                this.addChartRow(this.net, expense);\n                this.addChartRow(expense, this.expenses);\n            })\n        },\n        /**************************************************************\n         * Investments\n         **************************************************************/\n        drawInvestmentBreakdown: function () {\n            this.drawExemptions();\n            this.itemizedInvestments.forEach(investment => {\n                this.addChartRow(this.net, investment);\n                this.addChartRow(investment, this.investments);\n            })\n            this.addChartRow(this.net, this.unallocated);\n            this.addChartRow(this.unallocated, this.unallocated);\n        },\n        drawExemptions: function () {\n            this.itemizedIncomes.forEach(stream => {\n                stream.exemptions.forEach(exemption => {\n                    this.addChartRow(this.net, exemption);\n                    this.addChartRow(exemption, this.investments);\n                });\n            })\n        },\n        /**************************************************************\n         * Chart Stuff\n         **************************************************************/\n        addChartRow: function (from, to) {\n            var append = to.label == from.label ? ' ' : '';\n            let value = Math.min(from.value, to.value);\n            let from_label = from.label + ' (' + util.formatMoney(from.value) + ')';\n            let to_label   = to.label   + append + ' (' + util.formatMoney(to.value) + ')';\n            this.chart.addRow([from_label, to_label, value]);\n            to.label += append;\n        },\n        getChartUrl: function () {\n            // $('#sankey').html2canvas();\n            // var queue = window.html2canvas.Parse();\n            // var canvas = window.html2canvas.Renderer(queue,{elements:{length:1}});\n            // var img = canvas.toDataURL();\n            // window.open(img);\n        },\n        getChartStyling: function () {\n            let colors = [\n                '#a6cee3', '#b2df8a', '#fb9a99', '#fdbf6f',\n                '#cab2d6', '#ffff99', '#1f78b4', '#33a02c'\n            ];\n            return {\n                sankey: {\n                    node: {\n                        colors: colors,\n                        nodePadding: 7\n                    },\n                    link: {\n                        colorMode: 'gradient',\n                        colors: colors\n                    },\n                    iterations: 0,\n                },\n            }\n        }\n    }\n}\n</script>\n\n<style>\n#sankey {\n    width: 100%;\n    height:300px;\n}\n</style>\n\n"]}]}