{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue","mtime":1598295744971},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQWRkSW5jb21lJywKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIG5ldyBpbmNvbWUgc3RyZWFtCiAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgICB0YXg6ICAgJycsCiAgICAgICAgICAgIGV4ZW1wdGlvbnM6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhZGRJbmNvbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gdmFsaWRhdGUKICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHBhcnNlSW50KHRoaXMudmFsdWUpOwogICAgICAgICAgICBpZiAoaXNOYU4odGhpcy50YXgpIHx8IHRoaXMudGF4IDwgMCB8fCB0aGlzLnRheCA+IDEwMCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ0luY29tZSBzdHJlYW0gdGF4IHJhdGUgc2hvdWxkIGJlIGJldHdlZW4gMCBhbmQgMTAwJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzTmFOKHRoaXMudmFsdWUpIHx8IHRoaXMudmFsdWUgPD0gMCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ0luY29tZSBzdHJlYW0gYW1vdW50IG11c3QgYmUgcG9zaXRpdmUgbnVtYmVyLicpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyB2YWxpZGF0ZSBleGVtcHRpb25zIC0gcmVxdWlyZWQsIHZhbGlkIGxhYmVscywKICAgICAgICAgICAgLy8gc3VtIG9mIGV4ZW1wdGlvbnMgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBpbmNvbWUgc3RyZWFtIHRvdGFsCiAgICAgICAgICAgIHZhciBleGVtcHRpb25fdG90YWwgPSAwOwogICAgICAgICAgICB0aGlzLmV4ZW1wdGlvbnMuZm9yRWFjaChleGVtcHRpb24gPT4gewogICAgICAgICAgICAgICAgZXhlbXB0aW9uLnZhbHVlID0gcGFyc2VJbnQoZXhlbXB0aW9uLnZhbHVlKTsKICAgICAgICAgICAgICAgIGlmIChpc05hTihleGVtcHRpb24udmFsdWUpIHx8IGV4ZW1wdGlvbi52YWx1ZSA8IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnRXhlbXB0aW9uIGFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gMC4nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZXhlbXB0aW9uLm1hdGNoKSB8fCBleGVtcHRpb24ubWF0Y2ggPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0V4ZW1wdGlvbiBtYXRjaCBhbW91bnQgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZXhlbXB0aW9uX3RvdGFsICs9IGV4ZW1wdGlvbi52YWx1ZTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgaWYgKGV4ZW1wdGlvbl90b3RhbCA+IHRoaXMudmFsdWUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdFeGVtcHRpb24gYW1vdW50IGNhbm5vdCBiZSBtb3JlIHRoYW4gaW5jb21lIHN0cmVhbSBhbW91bnQhJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGFkZCB0aGUgbmV3IHN0cmVhbQogICAgICAgICAgICB0aGlzLiRlbWl0KCdhZGRJbmNvbWUnLCB7CiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5sYWJlbCwKICAgICAgICAgICAgICAgIHRheDogdGhpcy50YXgsCiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSwKICAgICAgICAgICAgICAgIGV4ZW1wdGlvbnM6IHRoaXMuZXhlbXB0aW9ucwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIHJlc2V0IGV2ZXJ5dGhpbmcgaW4gdGhlIGZvcm0KICAgICAgICAgICAgdGhpcy5sYWJlbCAgICAgID0gJyc7CiAgICAgICAgICAgIHRoaXMudGF4ICAgICAgICA9ICcnOwogICAgICAgICAgICB0aGlzLnZhbHVlICAgICAgPSAnJzsKICAgICAgICAgICAgdGhpcy5leGVtcHRpb25zID0gW107CiAgICAgICAgfSwKICAgICAgICBhZGRFeGVtcHRpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5leGVtcHRpb25zLnB1c2goeyBsYWJlbDogJycsIHZhbHVlOiAnJywgbWF0Y2g6ICcnIH0pOwogICAgICAgIH0sCiAgICB9LAp9Cgo="},{"version":3,"sources":["AddIncome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddIncome.vue","sourceRoot":"src/components/Incomes","sourcesContent":["<template>\n    <div>\n        <!-- income stream label -->\n        <div class=\"form-group\">\n            <label>Chart Label</label>\n            <input v-model=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Label\">\n            <small class=\"form-text text-muted\">\n                The label is used in the chart: Salary, Rental Income, etc.\n            </small>\n        </div>\n\n        <!-- income stream amount -->\n        <div class=\"form-group\">\n            <label>Amount (Gross)</label>\n            <input type=\"number\" class=\"form-control\" min=\"1\" v-model=\"value\" placeholder=\"Amount\">\n            <small class=\"form-text text-muted\">\n                The amount you make annually from this income stream (pre-tax).\n            </small>\n        </div>\n\n        <!-- income stream tax rate -->\n        <div class=\"form-group\">\n            <label>Tax Rate</label>\n            <input type=\"number\" class=\"form-control\" step=\".001\" min=\"0\" max=\"100\" v-model=\"tax\" placeholder=\"Tax\">\n            <small class=\"form-text text-muted\">\n                The percentage of tax for this income stream.\n            </small>\n        </div>\n\n        <!-- income stream tax exemptions -->\n        <div class=\"form-group\">\n            Does this income stream have any tax-exempt contributions?\n            <span class=\"float-right\">\n                <input type=\"radio\" name=\"gridRadios\" v-on:click=\"addExemption()\">\n                &nbsp;Yes\n                <input type=\"radio\" name=\"gridRadios\" v-on:click=\"exemptions = []\" checked>\n                &nbsp;No\n            </span>\n            <div v-for=\"(exemption, idx) in exemptions\" v-bind:key=\"idx\" class=\"row no-gutters\">\n\n                <!-- income stream tax exemption label -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Chart Label\" class=\"form-control\" v-model=\"exemption.label\" />\n                </div>\n\n                <!-- income stream tax exemption amount -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Contribution\" type=\"number\" class=\"form-control\"  v-model=\"exemption.value\" />\n                </div>\n\n                <!-- income stream tax exemption employer match -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Employer Match\" type=\"number\" class=\"form-control\" v-model=\"exemption.match\" />\n                </div>\n            </div>\n            <small class=\"form-text text-muted\">\n                Examples: 401k, HSA\n                <span class=\"float-right add-exemption\" v-if=\"exemptions.length\" v-on:click=\"addExemption()\">\n                    <i>Add Another</i>\n                </span>\n            </small>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary float-right\" v-on:click=\"addIncome()\">\n            Add Income Stream\n        </button>\n    </div>\n</template>\n\n\n<script>\n\nexport default {\n    name: 'AddIncome',\n    data () {\n        return {\n            // new income stream\n            label: '',\n            value: '',\n            tax:   '',\n            exemptions: []\n        }\n    },\n    methods: {\n        addIncome: function () {\n            // validate\n            this.value = parseInt(this.value);\n            if (isNaN(this.tax) || this.tax < 0 || this.tax > 100) {\n                alert('Income stream tax rate should be between 0 and 100');\n                return;\n            }\n            if (isNaN(this.value) || this.value <= 0) {\n                alert('Income stream amount must be positive number.');\n                return;\n            }\n\n            // validate exemptions - required, valid labels,\n            // sum of exemptions cannot be greater than income stream total\n            var exemption_total = 0;\n            this.exemptions.forEach(exemption => {\n                exemption.value = parseInt(exemption.value);\n                if (isNaN(exemption.value) || exemption.value < 0) {\n                    alert('Exemption amount must be greater or equal to 0.');\n                    return;\n                }\n                if (isNaN(exemption.match) || exemption.match < 0) {\n                    alert('Exemption match amount must be greater or equal to 0.');\n                    return;\n                }\n                exemption_total += exemption.value;\n            })\n            if (exemption_total > this.value) {\n                alert('Exemption amount cannot be more than income stream amount!');\n                return;\n            }\n\n            // add the new stream\n            this.$emit('addIncome', {\n                label: this.label,\n                tax: this.tax,\n                value: this.value,\n                exemptions: this.exemptions\n            });\n\n            // reset everything in the form\n            this.label      = '';\n            this.tax        = '';\n            this.value      = '';\n            this.exemptions = [];\n        },\n        addExemption: function () {\n            this.exemptions.push({ label: '', value: '', match: '' });\n        },\n    },\n}\n\n</script>\n\n\n<style scoped>\n.exemptions {\n    padding:0px 2px 0px 2px !important;\n    margin-top:5px;\n}\n.add-exemption {\n    cursor:pointer;\n    color: #007bff;\n    text-decoration: none;\n    background-color: transparent;\n}\n</style>"]}]}