{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue","mtime":1599032850374},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQWRkSW5jb21lRXhlbXB0aW9uIGZyb20gJy4vQWRkSW5jb21lRXhlbXB0aW9uLnZ1ZSc7CmltcG9ydCBBZGRJbmNvbWVEZWR1Y3Rpb24gZnJvbSAnLi9BZGRJbmNvbWVEZWR1Y3Rpb24udnVlJzsKaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vdXRpbC5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQWRkSW5jb21lJywKICAgIHByb3BzOiBbJ2luY29tZScsICdtb2RlJywgJ3VuYWxsb2NhdGVkU3VtJ10sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQWRkSW5jb21lRXhlbXB0aW9uLAogICAgICAgIEFkZEluY29tZURlZHVjdGlvbgogICAgfSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIG5ldyBpbmNvbWUgc3RyZWFtCiAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgICB0YXg6ICAgJycsCiAgICAgICAgICAgIGV4ZW1wdGlvbnM6IFtdLAogICAgICAgICAgICBkZWR1Y3Rpb25zOiBbXSwKCiAgICAgICAgICAgIHV0aWw6IHV0aWwKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCAoKSB7CiAgICAgICAgdGhpcy5pbml0TmV3SW5jb21lKCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFkZEluY29tZTogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgdGhpcy5ub3JtYWxpemVJbmNvbWUoKTsKICAgICAgICAgICAgdGhpcy5ub3JtYWxpemVFeGVtcHRpb25zKCk7CiAgICAgICAgICAgIHRoaXMubm9ybWFsaXplRGVkdWN0aW9ucygpOwogICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVJbmNvbWUoKSkgcmV0dXJuOwogICAgICAgICAgICB0aGlzLnZhbGlkYXRlRXhlbXB0aW9ucygpOwogICAgICAgICAgICB0aGlzLnZhbGlkYXRlRGVkdWN0aW9ucygpOwoKICAgICAgICAgICAgLy8gZXhlbXB0aW9ucyArIGRlZHVjdGlvbnMgPiBpbmNvbWUKICAgICAgICAgICAgbGV0IHRheF9mcmVlID0gdGhpcy5leGVtcHRpb25zLnJlZHVjZSgoYSwgZSkgPT4gYSArIGUudmFsdWUsIDApOwogICAgICAgICAgICB0YXhfZnJlZSA9IHRoaXMuZGVkdWN0aW9ucy5yZWR1Y2UoKGEsIGQpID0+IGEgKyBkLnZhbHVlLCB0YXhfZnJlZSk7CiAgICAgICAgICAgIGlmICh0YXhfZnJlZSA+IHRoaXMudmFsdWUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdUYXgtZXhlbXB0IGNvbnRyaWJ1dGlvbnMgYW5kIGRlZHVjdGlvbnMgY2Fubm90IGJlIG1vcmUgdGhhbiBpbmNvbWUgc3RyZWFtIGFtb3VudCEnKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gYWRkCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2FkZEluY29tZScsIHsKICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmxhYmVsLAogICAgICAgICAgICAgICAgdGF4OiB0aGlzLnRheCwKICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLAogICAgICAgICAgICAgICAgZXhlbXB0aW9uczogdGhpcy5leGVtcHRpb25zLAogICAgICAgICAgICAgICAgZGVkdWN0aW9uczogdGhpcy5kZWR1Y3Rpb25zCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdGhpcy5pbml0TmV3SW5jb21lKCk7CiAgICAgICAgfSwKICAgICAgICBub3JtYWxpemVJbmNvbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy50YXggICA9IHBhcnNlSW50KHRoaXMudGF4KTsKICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHBhcnNlSW50KHRoaXMudmFsdWUpOwogICAgICAgIH0sCiAgICAgICAgdmFsaWRhdGVJbmNvbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gZG8gd2UgaGF2ZSBidWRnZXQgdG8gZWRpdCB0aGlzIGluY29tZSB3aGVuIGxvd2VyaW5nIHRoZSBpbmNvbWUgdmFsdWU/CiAgICAgICAgICAgIGlmICh0aGlzLmluY29tZSkgewogICAgICAgICAgICAgICAgbGV0IGluY29tZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5pbmNvbWUpKTsKICAgICAgICAgICAgICAgIGluY29tZS52YWx1ZSA9IHRoaXMudmFsdWU7CiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IHV0aWwuZ2V0TmV0KHRoaXMuaW5jb21lKSAtIHV0aWwuZ2V0TmV0KGluY29tZSk7CiAgICAgICAgICAgICAgICBpZiAoZGlmZiA+IHRoaXMudW5hbGxvY2F0ZWRTdW0pIHsKICAgICAgICAgICAgICAgICAgICBhbGVydChgWW91IGNhbm5vdCBlZGl0IHRoaXMgaW5jb21lIHN0cmVhbSB1bnRpbCB5b3UgZnJlZSB1cCBhdCBsZWFzdCAke3V0aWwuZm9ybWF0TW9uZXkoZGlmZiwgdGhpcy5tb2RlKX0gaW50byB5b3VyIHVuYWxsb2NhdGVkIGJ1ZGdldC4gWW91IG11c3QgcmVtb3ZlIGF0IGxlYXN0ICR7dXRpbC5mb3JtYXRNb25leShkaWZmLXRoaXMudW5hbGxvY2F0ZWRTdW0sIHRoaXMubW9kZSl9IGluIGV4cGVuc2VzIG9yIGludmVzdG1lbnRzIGJlZm9yZSB5b3UgY2FuIG1ha2UgdGhpcyBjaGFuZ2UuYCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyB2YWxpZGF0ZSBsYWJlbCwgdGF4LCBhbmQgdmFsdWUKICAgICAgICAgICAgaWYgKHRoaXMubGFiZWwgPT0gJycpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdJbmNvbWUgc3RyZWFtIGxhYmVsIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc05hTih0aGlzLnRheCkgfHwgdGhpcy50YXggPCAxIHx8IHRoaXMudGF4ID4gMTAwKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnSW5jb21lIHN0cmVhbSB0YXggcmF0ZSBzaG91bGQgYmUgYmV0d2VlbiAxIGFuZCAxMDAuJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGlzTmFOKHRoaXMudmFsdWUpIHx8IHRoaXMudmFsdWUgPD0gMCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ0luY29tZSBzdHJlYW0gYW1vdW50IG11c3QgYmUgcG9zaXRpdmUgbnVtYmVyLicpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0sCiAgICAgICAgY2FuY2VsRWRpdEluY29tZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdlZGl0SW5jb21lJywgZmFsc2UpOwogICAgICAgIH0sCiAgICAgICAgZGVsZXRlSW5jb21lOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGxldCBuZXQgPSB1dGlsLmdldE5ldCh0aGlzLmluY29tZSk7CiAgICAgICAgICAgIG5ldCA9IG5ldCAtIHRoaXMuaW5jb21lLmV4ZW1wdGlvbnMucmVkdWNlKChhLCBlKSA9PiBhICsgZS52YWx1ZSArIGUubWF0Y2gsIDApOwogICAgICAgICAgICBpZiAobmV0ID4gdGhpcy51bmFsbG9jYXRlZFN1bSkgewogICAgICAgICAgICAgICAgYWxlcnQoYFlvdSBjYW5ub3QgcmVtb3ZlIHRoaXMgaW5jb21lIHN0cmVhbSB1bnRpbCB5b3UgZnJlZSB1cCBhdCBsZWFzdCAke3V0aWwuZm9ybWF0TW9uZXkobmV0LCB0aGlzLm1vZGUpfSBpbnRvIHlvdXIgdW5hbGxvY2F0ZWQgYnVkZ2V0LiBZb3UgbXVzdCByZW1vdmUgYXQgbGVhc3QgJHt1dGlsLmZvcm1hdE1vbmV5KG5ldC10aGlzLnVuYWxsb2NhdGVkU3VtLCB0aGlzLm1vZGUpfSBpbiBleHBlbnNlcyBvciBpbnZlc3RtZW50cyBiZWZvcmUgeW91IGNhbiByZW1vdmUgdGhpcyBpbmNvbWUgc3RyZWFtLmApOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjb25maXJtKCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgaW5jb21lIHN0cmVhbT8iKSkgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnZGVsZXRlSW5jb21lJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgICAgICAgKiBFWEVNUFRJT05TCiAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgICAgICBhZGRFeGVtcHRpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5leGVtcHRpb25zLnB1c2goewogICAgICAgICAgICAgICAgbGFiZWw6ICcnLAogICAgICAgICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgICAgICAgbWF0Y2g6ICcnLAogICAgICAgICAgICAgICAgdmFsdWVfbW9kZTogJ2N1cnJlbmN5JywKICAgICAgICAgICAgICAgIG1hdGNoX21vZGU6ICdjdXJyZW5jeScKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICByZW1vdmVFeGVtcHRpb246IGZ1bmN0aW9uIChpZHgpIHsKICAgICAgICAgICAgdmFyIGVtcHR5ID0gIXRoaXMuZXhlbXB0aW9uc1tpZHhdLmxhYmVsOwogICAgICAgICAgICBlbXB0eSA9IGVtcHR5ICYmICF0aGlzLmV4ZW1wdGlvbnNbaWR4XS52YWx1ZTsKICAgICAgICAgICAgZW1wdHkgPSBlbXB0eSAmJiAhdGhpcy5leGVtcHRpb25zW2lkeF0ubWF0Y2g7CiAgICAgICAgICAgIGlmIChlbXB0eSB8fCBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgZXhlbXB0aW9uPycpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmV4ZW1wdGlvbnMuc3BsaWNlKGlkeCwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsZWFyRXhlbXB0aW9uczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmV4ZW1wdGlvbnMgPSBbXTsKICAgICAgICB9LAogICAgICAgIC8vIGNvbnZlcnQgJSBjb250cmlidXRpb24gYW5kIG1hdGNoIHRvICQKICAgICAgICBub3JtYWxpemVFeGVtcHRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmV4ZW1wdGlvbnMpIHsKICAgICAgICAgICAgICAgIGxldCBleGVtcHRpb24gPSB0aGlzLmV4ZW1wdGlvbnNba2V5XTsKICAgICAgICAgICAgICAgIGlmIChleGVtcHRpb24udmFsdWVfbW9kZSA9PSAncGVyY2VudCcpIHsKICAgICAgICAgICAgICAgICAgICBleGVtcHRpb24udmFsdWUgICAgICA9IHRoaXMudmFsdWUgKiBleGVtcHRpb24udmFsdWUgLyAxMDA7CiAgICAgICAgICAgICAgICAgICAgZXhlbXB0aW9uLnZhbHVlX21vZGUgPSAnY3VycmVuY3knOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGV4ZW1wdGlvbi5tYXRjaF9tb2RlID09ICdwZXJjZW50JykgewogICAgICAgICAgICAgICAgICAgIGV4ZW1wdGlvbi5tYXRjaCAgICAgID0gdGhpcy52YWx1ZSAqIGV4ZW1wdGlvbi5tYXRjaCAvIDEwMDsKICAgICAgICAgICAgICAgICAgICBleGVtcHRpb24ubWF0Y2hfbW9kZSA9ICdjdXJyZW5jeSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHZhbGlkYXRlRXhlbXB0aW9uczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmV4ZW1wdGlvbnMuZm9yRWFjaChleGVtcHRpb24gPT4gewogICAgICAgICAgICAgICAgZXhlbXB0aW9uLnZhbHVlID0gcGFyc2VJbnQoZXhlbXB0aW9uLnZhbHVlKTsKICAgICAgICAgICAgICAgIGlmIChpc05hTihleGVtcHRpb24udmFsdWUpIHx8IGV4ZW1wdGlvbi52YWx1ZSA8IDApIHsKICAgICAgICAgICAgICAgICAgICBsZXQgc3RyID0gJ0V4ZW1wdGlvbiBhbW91bnQgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuJzsKICAgICAgICAgICAgICAgICAgICBhbGVydChzdHIpOwogICAgICAgICAgICAgICAgICAgIHRocm93IHN0cjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGV4ZW1wdGlvbi5tYXRjaCA9IHBhcnNlSW50KGV4ZW1wdGlvbi5tYXRjaCk7CiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZXhlbXB0aW9uLm1hdGNoKSB8fCBleGVtcHRpb24ubWF0Y2ggPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ciA9ICdFeGVtcHRpb24gbWF0Y2ggYW1vdW50IG11c3QgYmUgZ3JlYXRlciBvciBlcXVhbCB0byAwLic7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoc3RyKTsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBzdHI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAgICAgICAgICogREVEVUNUSU9OUwogICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAgICAgYWRkRGVkdWN0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuZGVkdWN0aW9ucy5wdXNoKHsKICAgICAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgICAgICAgIHZhbHVlX21vZGU6ICdjdXJyZW5jeScsCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcmVtb3ZlRGVkdWN0aW9uOiBmdW5jdGlvbiAoaWR4KSB7CiAgICAgICAgICAgIHZhciBlbXB0eSA9ICF0aGlzLmRlZHVjdGlvbnNbaWR4XS5sYWJlbCAmJiAhdGhpcy5kZWR1Y3Rpb25zW2lkeF0udmFsdWU7CiAgICAgICAgICAgIGlmIChlbXB0eSB8fCBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgZGVkdWN0aW9uPycpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRlZHVjdGlvbnMuc3BsaWNlKGlkeCwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsZWFyRGVkdWN0aW9uczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmRlZHVjdGlvbnMgPSBbXTsKICAgICAgICB9LAogICAgICAgIC8vIGNvbnZlcnQgJSBkZWR1Y3Rpb25zIHRvICQKICAgICAgICBub3JtYWxpemVEZWR1Y3Rpb25zOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmRlZHVjdGlvbnMpIHsKICAgICAgICAgICAgICAgIGxldCBkZWR1Y3Rpb24gPSB0aGlzLmRlZHVjdGlvbnNba2V5XTsKICAgICAgICAgICAgICAgIGlmIChkZWR1Y3Rpb24udmFsdWVfbW9kZSA9PSAncGVyY2VudCcpIHsKICAgICAgICAgICAgICAgICAgICBkZWR1Y3Rpb24udmFsdWUgICAgICA9IHRoaXMudmFsdWUgKiBkZWR1Y3Rpb24udmFsdWUgLyAxMDA7CiAgICAgICAgICAgICAgICAgICAgZGVkdWN0aW9uLnZhbHVlX21vZGUgPSAnY3VycmVuY3knOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB2YWxpZGF0ZURlZHVjdGlvbnM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5kZWR1Y3Rpb25zLmZvckVhY2goZGVkdWN0aW9uID0+IHsKICAgICAgICAgICAgICAgIGRlZHVjdGlvbi52YWx1ZSA9IHBhcnNlSW50KGRlZHVjdGlvbi52YWx1ZSk7CiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZGVkdWN0aW9uLnZhbHVlKSB8fCBkZWR1Y3Rpb24udmFsdWUgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ciA9ICdEZWR1Y3Rpb24gYW1vdW50IG11c3QgYmUgZ3JlYXRlciBvciBlcXVhbCB0byAwLic7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoc3RyKTsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBzdHI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAgICAgICAgICogVVRJTAogICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAgICAgaW5pdE5ld0luY29tZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmxhYmVsICAgICAgPSAnJzsKICAgICAgICAgICAgdGhpcy50YXggICAgICAgID0gJyc7CiAgICAgICAgICAgIHRoaXMudmFsdWUgICAgICA9ICcnOwogICAgICAgICAgICB0aGlzLmV4ZW1wdGlvbnMgPSBbXTsKICAgICAgICAgICAgdGhpcy5kZWR1Y3Rpb25zID0gW107CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctaW5jb21lLWZvY3VzJykuZm9jdXMoKTsKICAgICAgICB9LAogICAgICAgIHByb2Nlc3NLZXlQcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB0aGlzLmFkZEluY29tZSgpOwogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIC8vIHNldCBsb2NhbCBzY29wZSB2YWx1ZXMgaWYgc29tZW9uZSBjbGlja3MgZWRpdCBpbmNvbWUKICAgICAgICBpbmNvbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy52YWx1ZSAgICAgID0gdGhpcy5pbmNvbWUgPyB0aGlzLmluY29tZS52YWx1ZSA6ICcnOwogICAgICAgICAgICB0aGlzLmxhYmVsICAgICAgPSB0aGlzLmluY29tZSA/IHRoaXMuaW5jb21lLmxhYmVsIDogJyc7CiAgICAgICAgICAgIHRoaXMudGF4ICAgICAgICA9IHRoaXMuaW5jb21lID8gdGhpcy5pbmNvbWUudGF4IDogJyc7CiAgICAgICAgICAgIHRoaXMuZXhlbXB0aW9ucyA9IHRoaXMuaW5jb21lID8gdGhpcy5pbmNvbWUuZXhlbXB0aW9ucyA6IFtdOwogICAgICAgICAgICB0aGlzLmRlZHVjdGlvbnMgPSB0aGlzLmluY29tZSA/IHRoaXMuaW5jb21lLmRlZHVjdGlvbnMgOiBbXTsKICAgICAgICAgICAgaWYgKHRoaXMuZXhlbXB0aW9ucy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHRoaXMuZXhlbXB0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5leGVtcHRpb25zKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuZGVkdWN0aW9ucy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHRoaXMuZGVkdWN0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kZWR1Y3Rpb25zKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCg=="},{"version":3,"sources":["AddIncome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddIncome.vue","sourceRoot":"src/components/Incomes","sourcesContent":["<template>\n    <form v-on:keydown.enter.prevent=\"\">\n        <!-- income stream label -->\n        <div class=\"form-group\">\n            <label>Chart Label</label>\n            <input id=\"new-income-focus\" v-model=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Label\" name=\"income-stream-label\">\n            <small class=\"form-text text-muted\">\n                The label will be used in the chart: Salary, Rental Income, etc.\n            </small>\n        </div>\n\n        <!-- income stream amount -->\n        <div class=\"form-group\">\n            <label>Gross Amount</label>\n            <input type=\"number\" class=\"form-control\" min=\"1\" v-model=\"value\" placeholder=\"Amount\" v-on:keyup=\"processKeyPress\">\n            <small class=\"form-text text-muted\">\n                The amount ({{ mode }}) you make annually from this income stream (pre-tax).\n            </small>\n        </div>\n\n        <!-- income stream tax rate -->\n        <div class=\"form-group\">\n            <label>Tax Rate</label>\n            <input type=\"number\" class=\"form-control\" step=\".001\" min=\"1\" max=\"100\" v-model=\"tax\" placeholder=\"Tax\" v-on:keyup=\"processKeyPress\">\n            <small class=\"form-text text-muted\">\n                The tax rate (%) of this income stream.\n            </small>\n        </div>\n\n        <!-- exemptions question -->\n        Does this income stream have any tax-exempt contributions?\n        <AddIncomeExemption\n            :exemptions=\"exemptions\"\n            :mode=\"mode\"\n            @addIncome=\"addIncome\"\n            @addExemption=\"addExemption\"\n            @removeExemption=\"removeExemption\"\n            @clearExemptions=\"clearExemptions\" />\n        <br>\n\n        <!-- deductions question -->\n        Does this income stream have any pre-tax deductions?\n        <AddIncomeDeduction\n            :deductions=\"deductions\"\n            :mode=\"mode\"\n            @addIncome=\"addIncome\"\n            @addDeduction=\"addDeduction\"\n            @removeDeduction=\"removeDeduction\"\n            @clearDeductions=\"clearDeductions\" />\n\n        <!-- desktop buttons: save, delete, cancel -->\n        <div class=\"desktop-only\">\n            <button class=\"btn btn-primary float-right\" v-on:keyup=\"processKeyPress\" v-on:click.enter.prevent=\"addIncome\">\n                {{ income ? 'Update Income Stream' : 'Add Income Stream' }}\n            </button>\n            <button v-if=\"income\" class=\"btn btn-link\" v-on:click.enter.prevent=\"cancelEditIncome\">\n                Cancel\n            </button>\n            <button v-if=\"income\" class=\"btn btn-link remove-expense\" v-on:click.enter.prevent=\"deleteIncome\">\n                Delete\n            </button>\n        </div>\n\n        <!-- mobile buttons: save, delete, cancel -->\n        <div class=\"mobile-only\">\n            <button class=\"btn btn-primary\" v-on:keyup=\"processKeyPress\" v-on:click.enter.prevent=\"addIncome\">\n                {{ income ? 'Update Income Stream' : 'Add Income Stream' }}\n            </button>\n            <button v-if=\"income\" class=\"btn btn-link cancel-btn\" v-on:click.enter.prevent=\"cancelEditIncome\">\n                Cancel\n            </button>\n            <button v-if=\"income\" class=\"btn btn-link remove-expense\" v-on:click.enter.prevent=\"deleteIncome\">\n                Delete\n            </button>\n        </div>\n    </form>\n</template>\n\n\n<script>\n\nimport AddIncomeExemption from './AddIncomeExemption.vue';\nimport AddIncomeDeduction from './AddIncomeDeduction.vue';\nimport util from '../../util.js';\n\nexport default {\n    name: 'AddIncome',\n    props: ['income', 'mode', 'unallocatedSum'],\n    components: {\n        AddIncomeExemption,\n        AddIncomeDeduction\n    },\n    data () {\n        return {\n            // new income stream\n            label: '',\n            value: '',\n            tax:   '',\n            exemptions: [],\n            deductions: [],\n\n            util: util\n        }\n    },\n    mounted () {\n        this.initNewIncome();\n    },\n    methods: {\n        addIncome: function (e) {\n            if (e) e.preventDefault();\n            this.normalizeIncome();\n            this.normalizeExemptions();\n            this.normalizeDeductions();\n            if (!this.validateIncome()) return;\n            this.validateExemptions();\n            this.validateDeductions();\n\n            // exemptions + deductions > income\n            let tax_free = this.exemptions.reduce((a, e) => a + e.value, 0);\n            tax_free = this.deductions.reduce((a, d) => a + d.value, tax_free);\n            if (tax_free > this.value) {\n                alert('Tax-exempt contributions and deductions cannot be more than income stream amount!');\n                return false;\n            }\n\n            // add\n            this.$emit('addIncome', {\n                label: this.label,\n                tax: this.tax,\n                value: this.value,\n                exemptions: this.exemptions,\n                deductions: this.deductions\n            });\n\n            this.initNewIncome();\n        },\n        normalizeIncome: function () {\n            this.tax   = parseInt(this.tax);\n            this.value = parseInt(this.value);\n        },\n        validateIncome: function () {\n            // do we have budget to edit this income when lowering the income value?\n            if (this.income) {\n                let income = JSON.parse(JSON.stringify(this.income));\n                income.value = this.value;\n                var diff = util.getNet(this.income) - util.getNet(income);\n                if (diff > this.unallocatedSum) {\n                    alert(`You cannot edit this income stream until you free up at least ${util.formatMoney(diff, this.mode)} into your unallocated budget. You must remove at least ${util.formatMoney(diff-this.unallocatedSum, this.mode)} in expenses or investments before you can make this change.`);\n                    return false;\n                }\n            }\n\n            // validate label, tax, and value\n            if (this.label == '') {\n                alert('Income stream label is required.');\n                return false;\n            }\n            if (isNaN(this.tax) || this.tax < 1 || this.tax > 100) {\n                alert('Income stream tax rate should be between 1 and 100.');\n                return false;\n            }\n            if (isNaN(this.value) || this.value <= 0) {\n                alert('Income stream amount must be positive number.');\n                return false;\n            }\n            return true;\n        },\n        cancelEditIncome: function () {\n            this.$emit('editIncome', false);\n        },\n        deleteIncome: function () {\n            let net = util.getNet(this.income);\n            net = net - this.income.exemptions.reduce((a, e) => a + e.value + e.match, 0);\n            if (net > this.unallocatedSum) {\n                alert(`You cannot remove this income stream until you free up at least ${util.formatMoney(net, this.mode)} into your unallocated budget. You must remove at least ${util.formatMoney(net-this.unallocatedSum, this.mode)} in expenses or investments before you can remove this income stream.`);\n                return;\n            }\n            if (confirm(\"Are you sure you want to remove this income stream?\")) {\n                this.$emit('deleteIncome');\n            }\n        },\n        /************************************************************\n         * EXEMPTIONS\n         ************************************************************/\n        addExemption: function () {\n            this.exemptions.push({\n                label: '',\n                value: '',\n                match: '',\n                value_mode: 'currency',\n                match_mode: 'currency'\n            });\n        },\n        removeExemption: function (idx) {\n            var empty = !this.exemptions[idx].label;\n            empty = empty && !this.exemptions[idx].value;\n            empty = empty && !this.exemptions[idx].match;\n            if (empty || confirm('Are you sure you want to remove this exemption?')) {\n                this.exemptions.splice(idx, 1);\n            }\n        },\n        clearExemptions: function () {\n            this.exemptions = [];\n        },\n        // convert % contribution and match to $\n        normalizeExemptions: function () {\n            for (var key in this.exemptions) {\n                let exemption = this.exemptions[key];\n                if (exemption.value_mode == 'percent') {\n                    exemption.value      = this.value * exemption.value / 100;\n                    exemption.value_mode = 'currency';\n                }\n                if (exemption.match_mode == 'percent') {\n                    exemption.match      = this.value * exemption.match / 100;\n                    exemption.match_mode = 'currency';\n                }\n            }\n        },\n        validateExemptions: function () {\n            this.exemptions.forEach(exemption => {\n                exemption.value = parseInt(exemption.value);\n                if (isNaN(exemption.value) || exemption.value < 0) {\n                    let str = 'Exemption amount must be greater or equal to 0.';\n                    alert(str);\n                    throw str;\n                }\n                exemption.match = parseInt(exemption.match);\n                if (isNaN(exemption.match) || exemption.match < 0) {\n                    let str = 'Exemption match amount must be greater or equal to 0.';\n                    alert(str);\n                    throw str;\n                }\n            })\n        },\n        /************************************************************\n         * DEDUCTIONS\n         ************************************************************/\n        addDeduction: function () {\n            this.deductions.push({\n                label: '',\n                value: '',\n                value_mode: 'currency',\n            });\n        },\n        removeDeduction: function (idx) {\n            var empty = !this.deductions[idx].label && !this.deductions[idx].value;\n            if (empty || confirm('Are you sure you want to remove this deduction?')) {\n                this.deductions.splice(idx, 1);\n            }\n        },\n        clearDeductions: function () {\n            this.deductions = [];\n        },\n        // convert % deductions to $\n        normalizeDeductions: function () {\n            for (var key in this.deductions) {\n                let deduction = this.deductions[key];\n                if (deduction.value_mode == 'percent') {\n                    deduction.value      = this.value * deduction.value / 100;\n                    deduction.value_mode = 'currency';\n                }\n            }\n        },\n        validateDeductions: function () {\n            this.deductions.forEach(deduction => {\n                deduction.value = parseInt(deduction.value);\n                if (isNaN(deduction.value) || deduction.value < 0) {\n                    let str = 'Deduction amount must be greater or equal to 0.';\n                    alert(str);\n                    throw str;\n                }\n            })\n        },\n        /************************************************************\n         * UTIL\n         ************************************************************/\n        initNewIncome: function () {\n            this.label      = '';\n            this.tax        = '';\n            this.value      = '';\n            this.exemptions = [];\n            this.deductions = [];\n            document.getElementById('new-income-focus').focus();\n        },\n        processKeyPress: function (event) {\n            if (event.keyCode == 13) this.addIncome();\n        }\n    },\n    watch: {\n        // set local scope values if someone clicks edit income\n        income: function () {\n            this.value      = this.income ? this.income.value : '';\n            this.label      = this.income ? this.income.label : '';\n            this.tax        = this.income ? this.income.tax : '';\n            this.exemptions = this.income ? this.income.exemptions : [];\n            this.deductions = this.income ? this.income.deductions : [];\n            if (this.exemptions.length) {\n                this.exemptions = JSON.parse(JSON.stringify(this.exemptions));\n            }\n            if (this.deductions.length) {\n                this.deductions = JSON.parse(JSON.stringify(this.deductions));\n            }\n        }\n    }\n}\n\n</script>\n\n\n<style scoped>\n\n.desktop-only {\n    float: right;\n    display:inline;\n    margin-top:30px;\n}\n\n.remove-expense {\n    color: red;\n}\n\n.desktop-only .remove-expense {\n    padding-left:5px;\n    padding-right:17px;\n}\n\n</style>"]}]}