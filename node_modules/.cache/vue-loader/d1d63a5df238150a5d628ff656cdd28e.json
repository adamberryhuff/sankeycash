{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Navbar.vue?vue&type=style&index=0&id=39ba83ba&scoped=true&lang=css&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Navbar.vue","mtime":1599644405879},{"path":"/home/adam/Desktop/sankycash/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZmEgewogICAgY29sb3I6ICMyOEE3NDU7Cn0KCi5sYW5ndWFnZXMgewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKICAgIGNvbG9yOiAjNmM3NTdkICFpbXBvcnRhbnQ7CiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0KCi5sYW5ndWFnZXM6Zm9jdXMgewogICAgYm94LXNoYWRvdzogdW5zZXQgIWltcG9ydGFudDsKfQoKLmxhbmd1YWdlczphY3RpdmUgewogICAgYm94LXNoYWRvdzogdW5zZXQgIWltcG9ydGFudDsKICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7Cn0KCi5sYW5ndWFnZXMgc3BhbiB7CiAgICBjb2xvcjogIzZjNzU3ZDsKICAgIGZvbnQtc2l6ZToyMHB4Owp9Cgo="},{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8PA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Navbar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <a v-on:click=\"resetConfig()\" class=\"navbar-brand\" id=\"logo-main\" href=\"#\"><span class=\"fa fa-money\"></span> {{ $t('product') }}</a>\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <ul class=\"navbar-nav mr-auto\">\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" href=\"#\" v-on:click=\"instructions()\" data-toggle=\"tooltip\" data-placement=\"bottom\" :title=\"$t('header.instructions_tt')\">{{ $t('header.instructions') }} </a>\n                </li>\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" href=\"#\" v-on:click=\"loadTestData()\" data-toggle=\"tooltip\" data-placement=\"bottom\" id=\"demo-btn\" :title=\"$t('header.demo_tt')\">{{ $t('header.demo') }} </a>\n                </li>\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" href=\"#\" v-on:click=\"download()\" data-toggle=\"tooltip\" data-placement=\"bottom\" :title=\"$t('header.download_tt')\">{{ $t('header.download') }} </a>\n                </li>\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" href=\"#\" v-on:click=\"importConfig()\" data-toggle=\"tooltip\" data-placement=\"bottom\" :title=\"$t('header.import_tt')\" >{{ $t('header.import') }} </a>\n                </li>\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" href=\"#\" v-on:click=\"exportConfig()\" data-toggle=\"tooltip\" data-placement=\"bottom\" :title=\"$t('header.export_tt')\">{{ $t('header.export') }} </a>\n                </li>\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" href=\"#\" v-on:click=\"resetConfig()\" data-toggle=\"tooltip\" data-placement=\"bottom\" :title=\"$t('header.reset_tt')\">{{ $t('header.reset') }} </a>\n                </li>\n                <li class=\"nav-item active\" id=\"uploader\"></li>\n            </ul>\n            <div class=\"btn-group percent-buttons\" style=\"margin-right:10px;\" role=\"group\" aria-label=\"Basic example\">\n                <button type=\"button\" v-on:click=\"$emit('setTimeline', 'annual')\" class=\"btn btn-secondary\" :class=\"{ active: timeline == 'annual' }\">Year</button>\n                <button type=\"button\" v-on:click=\"$emit('setTimeline', 'monthly')\" class=\"btn btn-secondary\" :class=\"{ active: timeline == 'monthly' }\">Month</button>\n            </div>\n            <div class=\"btn-group percent-buttons\" style=\"margin-right:10px;\" role=\"group\" aria-label=\"Basic example\">\n                <button type=\"button\" v-on:click=\"toggleMode('$')\" class=\"btn btn-secondary\" :class=\"{ active: mode == '$' }\">$</button>\n                <button type=\"button\" v-on:click=\"toggleMode('£')\" class=\"btn btn-secondary\" :class=\"{ active: mode == '£' }\">£</button>\n                <button type=\"button\" v-on:click=\"toggleMode('€')\" class=\"btn btn-secondary\" :class=\"{ active: mode == '€' }\">€</button>\n            </div>\n            <div class=\"dropdown\">\n                <button class=\"btn btn-secondary dropdown-toggle languages\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <span class=\"fa fa-globe\"></span>\n                </button>\n                <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\n                    <a class=\"dropdown-item\" href=\"#\" v-for=\"(language, idx) in languages\" v-bind:key=\"idx\" v-on:click=\"setLanguage(language.key)\">\n                        {{ language.label }}<span class=\"float-right\" style=\"color: rgba(108, 117, 125, 0.39); font-weight:bold;\">{{ language.currency }}</span>\n                    </a>\n                    <div class=\"dropdown-divider\"></div>\n                    <a class=\"dropdown-item\" href=\"#\" v-on:click=\"addLanguage()\" download>Add Language</a>\n                </div>\n            </div>\n        </div>\n    </nav>\n</template>\n\n<script>\nimport test from '../assets/sankey.json';\n\nexport default {\n    name: 'Navbar',\n    props: [\n        'itemizedIncomes', 'itemizedExpenses', 'itemizedInvestments',\n        'mode', 'timeline', 'percent', 'canvas', 'chartShowing'\n    ],\n    data () {\n        return {\n            languages: [\n                {\n                    key: 'en',\n                    label: 'English',\n                    currency: '$'\n                },\n                {\n                    key: 'de',\n                    label: 'German',\n                    currency: '€'\n                }\n            ],\n        }\n    },\n    methods: {\n        toggleMode: function (mode) {\n            this.$emit('setMode', mode);\n        },\n        download: function () {\n            if (!this.chartShowing) {\n                alert(this.$t('header.download_error'));\n                return;\n            }\n            this.$emit('download');\n        },\n        instructions: function () {\n            let introJS = this.$intro();\n            introJS.setOption(\"nextLabel\", this.$t('common.next'));\n            introJS.setOption(\"prevLabel\", this.$t('common.back'));\n            introJS.setOption(\"skipLabel\", this.$t('common.skip'));\n            introJS.setOption(\"doneLabel\", this.$t('common.done'));\n            introJS.setOption(\"showStepNumbers\", false);\n            introJS.addSteps([\n                {\n                    step: 1,\n                    element: document.getElementById('logo-main'),\n                    intro: this.$t('instructions.example') + '<div id=\"sankey-test\"></div>' + this.$t('instructions.generate') + '<br>' + this.$t('instructions.demo')\n                }, {\n                    step: 2,\n                    element: document.getElementById('incomes-label'),\n                    intro: this.$t('incomes.instructions')\n                }, {\n                    step: 3,\n                    element: document.getElementById('expenses-label'),\n                    intro: this.$t('expenses.instructions')\n                }, {\n                    step: 4,\n                    element: document.getElementById('investments-label'),\n                    intro: this.$t('investments.instructions')\n                }, {\n                    step: 5,\n                    element: document.getElementById('navbarSupportedContent'),\n                    intro: this.$t('instructions.header')\n                }\n            ]);\n            var reset = this.chartShowing ? false : true;\n            introJS.oncomplete(() => {\n                if (reset) this.reset();\n            });\n\n            introJS.start();\n            let skip_btn = document.getElementsByClassName('introjs-skipbutton')[0];\n            let overlay = document.getElementsByClassName('introjs-overlay')[0];\n            skip_btn.addEventListener('click', () => {\n                if (reset) this.reset();\n            });\n            overlay.addEventListener('click', () => {\n                if (reset) this.reset();\n            });\n            if (!this.chartShowing) this.load();\n            this.$emit('forceRender');\n        },\n        exportConfig: function () {\n            if (!this.chartShowing) {\n                alert(this.$t('header.export_error'));\n                return;\n            }\n            let filename = 'sankeycash.json';\n            let contents = {\n                income: this.itemizedIncomes,\n                expenses: this.itemizedExpenses,\n                investments: this.itemizedInvestments,\n                timeline: this.timeline,\n                mode: this.mode,\n                percent: this.percent,\n                canvas: this.canvas,\n                language: this.$i18n.locale\n            };\n            contents = encodeURIComponent(JSON.stringify(contents));\n            var element  = document.createElement('a');\n            element.setAttribute('href', 'data:application/json;charset=utf-8,' + contents);\n            element.setAttribute('download', filename);\n            element.style.display = 'none';\n            document.body.appendChild(element);\n            element.click();\n            document.body.removeChild(element);\n        },\n        importConfig: function () {\n            var uploader = document.createElement(\"INPUT\");\n            uploader.id = 'config';\n            uploader.style.display = \"none\";\n            uploader.setAttribute(\"type\", \"file\");\n            uploader.click();\n            document.getElementById('uploader').appendChild(uploader);\n            uploader.addEventListener(\"change\", this.configUploaded, false);\n        },\n        configUploaded: function () {\n            var f = document.getElementById('config').files[0];\n            var reader = new FileReader();\n            var a = this;\n            reader.onload = (() =>  {\n                document.getElementById('config').remove();\n                return function(e) {\n                    try {\n                        var config = JSON.parse(e.target.result);\n                    } catch (e) {\n                        alert(a.$t('header.import_error'));\n                        return;\n                    }\n                    if (typeof config !== 'object' || config.investments === undefined\n                        || config.expenses === undefined || config.income === undefined) {\n                        alert(a.$t('header.import_error'));\n                    } else {\n                        a.$emit('setItemizedInvestments', config.investments);\n                        a.$emit('setItemizedExpenses', config.expenses);\n                        a.$emit('setItemizedIncomes', config.income);\n                        if (config.timeline) a.$emit('setTimeline', config.timeline);\n                        if (config.mode) a.$emit('setMode', config.mode);\n                        if (config.percent !== undefined) a.$emit('setPercent', config.percent);\n                        if (config.canvas) a.$emit('setCanvas', config.canvas);\n                        if (config.language) a.$i18n.locale = config.language;\n                        a.$emit('alert', a.$t('toasts.config_imported'));\n                    }\n                };\n            }) (f);\n            reader.readAsText(f);\n        },\n        resetConfig: function () {\n            let fresh = !this.itemizedInvestments.length;\n            fresh = fresh && !this.itemizedExpenses.length;\n            fresh = fresh && !this.itemizedIncomes.length;\n            if (fresh || confirm(this.$t('header.reset_confirmation'))) {\n                this.reset();\n                this.$emit('alert', this.$t('toasts.data_reset'));\n            }\n        },\n        reset: function () {\n            this.$emit('setItemizedInvestments', []);\n            this.$emit('setItemizedExpenses', []);\n            this.$emit('setItemizedIncomes', []);\n            window.scrollTo(0,0);\n        },\n        loadTestData: function () {\n            if (!this.chartShowing || confirm(this.$t('header.demo_confirmation'))) {\n                this.load();\n                this.$emit('alert', 'Demo Data Loaded');\n            }\n        },\n        load: function () {\n            this.$emit('setItemizedInvestments', JSON.parse(JSON.stringify(test.investments)));\n            this.$emit('setItemizedExpenses', JSON.parse(JSON.stringify(test.expenses)));\n            this.$emit('setItemizedIncomes', JSON.parse(JSON.stringify(test.income)));\n        },\n        setLanguage: function (key) {\n            this.$i18n.locale = key;\n            this.toggleMode(this.$t('currency'));\n            window.$(function () {\n                window.$('[data-toggle=\"tooltip\"]').tooltip('dispose');\n                window.$('[data-toggle=\"tooltip\"]').tooltip('enable');\n            })\n        },\n        addLanguage: function () {\n            var contents = require(\"../assets/content/en.json\");\n            contents = encodeURIComponent(JSON.stringify(contents))\n            var element  = document.createElement('a');\n            element.setAttribute('href', 'data:application/json;charset=utf-8,' + contents);\n            element.setAttribute('download', 'en.json');\n            element.style.display = 'none';\n            document.body.appendChild(element);\n            element.click();\n            document.body.removeChild(element);\n            alert(this.$t('add'));\n        },\n    }\n}\n\n</script>\n\n<style scoped>\n.fa {\n    color: #28A745;\n}\n\n.languages {\n    background-color: transparent !important;\n    color: #6c757d !important;\n    border-color: transparent !important;\n}\n\n.languages:focus {\n    box-shadow: unset !important;\n}\n\n.languages:active {\n    box-shadow: unset !important;\n    border-color: transparent !important;\n    background-color: transparent !important;\n}\n\n.languages span {\n    color: #6c757d;\n    font-size:20px;\n}\n\n</style>"]}]}