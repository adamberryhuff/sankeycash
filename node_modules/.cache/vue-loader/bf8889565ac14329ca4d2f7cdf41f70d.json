{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue","mtime":1598231435024},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQWRkSW5jb21lJywKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIG5ldyBpbmNvbWUgc3RyZWFtCiAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgICB0YXg6ICAgJycsCiAgICAgICAgICAgIGV4ZW1wdGlvbnM6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhZGRJbmNvbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gdmFsaWRhdGUKICAgICAgICAgICAgaWYgKGlzTmFOKHRoaXMudGF4KSB8fCB0aGlzLnRheCA8IDAgfHwgdGhpcy50YXggPiAxMDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdJbmNvbWUgc3RyZWFtIHRheCByYXRlIHNob3VsZCBiZSBiZXR3ZWVuIDAgYW5kIDEwMCcpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc05hTih0aGlzLnZhbHVlKSB8fCB0aGlzLnZhbHVlIDw9IDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdJbmNvbWUgc3RyZWFtIGFtb3VudCBtdXN0IGJlIHBvc2l0aXZlIG51bWJlci4nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gdmFsaWRhdGUgZXhlbXB0aW9ucyAtIHJlcXVpcmVkLCB2YWxpZCBsYWJlbHMsCiAgICAgICAgICAgIC8vIHN1bSBvZiBleGVtcHRpb25zIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gaW5jb21lIHN0cmVhbSB0b3RhbAogICAgICAgICAgICB2YXIgZXhlbXB0aW9uX3RvdGFsID0gMDsKICAgICAgICAgICAgdGhpcy5leGVtcHRpb25zLmZvckVhY2goZXhlbXB0aW9uID0+IHsKICAgICAgICAgICAgICAgIGlmIChpc05hTihleGVtcHRpb24udmFsdWUpIHx8IGV4ZW1wdGlvbi52YWx1ZSA8IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnRXhlbXB0aW9uIGFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gMC4nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZXhlbXB0aW9uLm1hdGNoKSB8fCBleGVtcHRpb24ubWF0Y2ggPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0V4ZW1wdGlvbiBtYXRjaCBhbW91bnQgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZXhlbXB0aW9uX3RvdGFsICs9IHBhcnNlSW50KGV4ZW1wdGlvbi52YWx1ZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGlmIChleGVtcHRpb25fdG90YWwgPiB0aGlzLnZhbHVlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRXhlbXB0aW9uIGFtb3VudCBjYW5ub3QgYmUgbW9yZSB0aGFuIGluY29tZSBzdHJlYW0gYW1vdW50IScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBhZGQgdGhlIG5ldyBzdHJlYW0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnYWRkSW5jb21lJywgewogICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMubGFiZWwsCiAgICAgICAgICAgICAgICB0YXg6IHRoaXMudGF4LAogICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsCiAgICAgICAgICAgICAgICBleGVtcHRpb25zOiB0aGlzLmV4ZW1wdGlvbnMKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyByZXNldCBldmVyeXRoaW5nIGluIHRoZSBmb3JtCiAgICAgICAgICAgIHRoaXMubGFiZWwgICAgICA9ICcnOwogICAgICAgICAgICB0aGlzLnRheCAgICAgICAgPSAnJzsKICAgICAgICAgICAgdGhpcy52YWx1ZSAgICAgID0gJyc7CiAgICAgICAgICAgIHRoaXMuZXhlbXB0aW9ucyA9IFtdOwogICAgICAgIH0sCiAgICAgICAgYWRkRXhlbXB0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuZXhlbXB0aW9ucy5wdXNoKHsgbGFiZWw6ICcnLCB2YWx1ZTogJycsIG1hdGNoOiAnJyB9KTsKICAgICAgICB9LAogICAgfSwKfQoK"},{"version":3,"sources":["AddIncome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddIncome.vue","sourceRoot":"src/components/Incomes","sourcesContent":["<template>\n    <div>\n        <!-- income stream label -->\n        <div class=\"form-group\">\n            <label>Chart Label</label>\n            <input v-model=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Label\">\n            <small class=\"form-text text-muted\">\n                The label is used in the chart: Salary, Rental Income, etc.\n            </small>\n        </div>\n\n        <!-- income stream amount -->\n        <div class=\"form-group\">\n            <label>Amount (Gross)</label>\n            <input type=\"number\" class=\"form-control\" min=\"1\" v-model=\"value\" placeholder=\"Amount\">\n            <small class=\"form-text text-muted\">\n                The amount you make annually from this income stream (pre-tax).\n            </small>\n        </div>\n\n        <!-- income stream tax rate -->\n        <div class=\"form-group\">\n            <label>Tax Rate</label>\n            <input type=\"number\" class=\"form-control\" step=\".001\" min=\"0\" max=\"100\" v-model=\"tax\" placeholder=\"Tax\">\n            <small class=\"form-text text-muted\">\n                The percentage of tax for this income stream.\n            </small>\n        </div>\n\n        <!-- income stream tax exemptions -->\n        <div class=\"form-group\">\n            Does this income stream have any tax-exempt contributions?\n            <span class=\"float-right\">\n                <input type=\"radio\" name=\"gridRadios\" v-on:click=\"addExemption()\">\n                &nbsp;Yes\n                <input type=\"radio\" name=\"gridRadios\" v-on:click=\"exemptions = []\" checked>\n                &nbsp;No\n            </span>\n            <div v-for=\"(exemption, idx) in exemptions\" v-bind:key=\"idx\" class=\"row no-gutters\">\n\n                <!-- income stream tax exemption label -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Chart Label\" class=\"form-control\" v-model=\"exemption.label\" />\n                </div>\n\n                <!-- income stream tax exemption amount -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Contribution\" type=\"number\" class=\"form-control\"  v-model=\"exemption.value\" />\n                </div>\n\n                <!-- income stream tax exemption employer match -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Employer Match\" type=\"number\" class=\"form-control\" v-model=\"exemption.match\" />\n                </div>\n            </div>\n            <small class=\"form-text text-muted\">\n                Examples: 401k, HSA\n                <span class=\"float-right add-exemption\" v-if=\"exemptions.length\" v-on:click=\"addExemption()\">\n                    <i>Add Another</i>\n                </span>\n            </small>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary float-right\" v-on:click=\"addIncome()\">\n            Add Income Stream\n        </button>\n    </div>\n</template>\n\n\n<script>\n\nexport default {\n    name: 'AddIncome',\n    data () {\n        return {\n            // new income stream\n            label: '',\n            value: '',\n            tax:   '',\n            exemptions: []\n        }\n    },\n    methods: {\n        addIncome: function () {\n            // validate\n            if (isNaN(this.tax) || this.tax < 0 || this.tax > 100) {\n                alert('Income stream tax rate should be between 0 and 100');\n                return;\n            }\n            if (isNaN(this.value) || this.value <= 0) {\n                alert('Income stream amount must be positive number.');\n                return;\n            }\n\n            // validate exemptions - required, valid labels,\n            // sum of exemptions cannot be greater than income stream total\n            var exemption_total = 0;\n            this.exemptions.forEach(exemption => {\n                if (isNaN(exemption.value) || exemption.value < 0) {\n                    alert('Exemption amount must be greater or equal to 0.');\n                    return;\n                }\n                if (isNaN(exemption.match) || exemption.match < 0) {\n                    alert('Exemption match amount must be greater or equal to 0.');\n                    return;\n                }\n                exemption_total += parseInt(exemption.value);\n            })\n            if (exemption_total > this.value) {\n                alert('Exemption amount cannot be more than income stream amount!');\n                return;\n            }\n\n            // add the new stream\n            this.$emit('addIncome', {\n                label: this.label,\n                tax: this.tax,\n                value: this.value,\n                exemptions: this.exemptions\n            });\n\n            // reset everything in the form\n            this.label      = '';\n            this.tax        = '';\n            this.value      = '';\n            this.exemptions = [];\n        },\n        addExemption: function () {\n            this.exemptions.push({ label: '', value: '', match: '' });\n        },\n    },\n}\n\n</script>\n\n\n<style scoped>\n.exemptions {\n    padding:0px 2px 0px 2px !important;\n    margin-top:5px;\n}\n.add-exemption {\n    cursor:pointer;\n    color: #007bff;\n    text-decoration: none;\n    background-color: transparent;\n}\n</style>"]}]}