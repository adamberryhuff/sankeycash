{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue","mtime":1598559085052},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQWRkSW5jb21lJywKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIG5ldyBpbmNvbWUgc3RyZWFtCiAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgdmFsdWU6ICcnLAogICAgICAgICAgICB0YXg6ICAgJycsCiAgICAgICAgICAgIGV4ZW1wdGlvbnM6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhZGRJbmNvbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy50YXggICA9IHBhcnNlSW50KHRoaXMudGF4KTsKICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHBhcnNlSW50KHRoaXMudmFsdWUpOwoKICAgICAgICAgICAgLy8gdmFsaWRhdGUKICAgICAgICAgICAgaWYgKGlzTmFOKHRoaXMudGF4KSB8fCB0aGlzLnRheCA8IDAgfHwgdGhpcy50YXggPiAxMDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdJbmNvbWUgc3RyZWFtIHRheCByYXRlIHNob3VsZCBiZSBiZXR3ZWVuIDAgYW5kIDEwMCcpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc05hTih0aGlzLnZhbHVlKSB8fCB0aGlzLnZhbHVlIDw9IDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdJbmNvbWUgc3RyZWFtIGFtb3VudCBtdXN0IGJlIHBvc2l0aXZlIG51bWJlci4nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gdmFsaWRhdGUgZXhlbXB0aW9ucyAtIHJlcXVpcmVkLCB2YWxpZCBsYWJlbHMsCiAgICAgICAgICAgIC8vIHN1bSBvZiBleGVtcHRpb25zIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gaW5jb21lIHN0cmVhbSB0b3RhbAogICAgICAgICAgICB2YXIgZXhlbXB0aW9uX3RvdGFsID0gMDsKICAgICAgICAgICAgdGhpcy5leGVtcHRpb25zLmZvckVhY2goZXhlbXB0aW9uID0+IHsKICAgICAgICAgICAgICAgIGV4ZW1wdGlvbi52YWx1ZSA9IHBhcnNlSW50KGV4ZW1wdGlvbi52YWx1ZSk7CiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZXhlbXB0aW9uLnZhbHVlKSB8fCBleGVtcHRpb24udmFsdWUgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0V4ZW1wdGlvbiBhbW91bnQgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZXhlbXB0aW9uLm1hdGNoID0gcGFyc2VJbnQoZXhlbXB0aW9uLm1hdGNoKTsKICAgICAgICAgICAgICAgIGlmIChpc05hTihleGVtcHRpb24ubWF0Y2gpIHx8IGV4ZW1wdGlvbi5tYXRjaCA8IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnRXhlbXB0aW9uIG1hdGNoIGFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gMC4nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBleGVtcHRpb25fdG90YWwgKz0gZXhlbXB0aW9uLnZhbHVlOwogICAgICAgICAgICB9KQogICAgICAgICAgICBpZiAoZXhlbXB0aW9uX3RvdGFsID4gdGhpcy52YWx1ZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ0V4ZW1wdGlvbiBhbW91bnQgY2Fubm90IGJlIG1vcmUgdGhhbiBpbmNvbWUgc3RyZWFtIGFtb3VudCEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gYWRkIHRoZSBuZXcgc3RyZWFtCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2FkZEluY29tZScsIHsKICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmxhYmVsLAogICAgICAgICAgICAgICAgdGF4OiB0aGlzLnRheCwKICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLAogICAgICAgICAgICAgICAgZXhlbXB0aW9uczogdGhpcy5leGVtcHRpb25zCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gcmVzZXQgZXZlcnl0aGluZyBpbiB0aGUgZm9ybQogICAgICAgICAgICB0aGlzLmxhYmVsICAgICAgPSAnJzsKICAgICAgICAgICAgdGhpcy50YXggICAgICAgID0gJyc7CiAgICAgICAgICAgIHRoaXMudmFsdWUgICAgICA9ICcnOwogICAgICAgICAgICB0aGlzLmV4ZW1wdGlvbnMgPSBbXTsKCiAgICAgICAgICAgIC8vIHNldCBubyBleGVtcHRpb25zIGNoZWNrYm94CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduby1leGVtcHRpb25zLWNiJykuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBhZGRFeGVtcHRpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5leGVtcHRpb25zLnB1c2goeyBsYWJlbDogJycsIHZhbHVlOiAnJywgbWF0Y2g6ICcnIH0pOwogICAgICAgIH0sCiAgICB9LAp9Cgo="},{"version":3,"sources":["AddIncome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddIncome.vue","sourceRoot":"src/components/Incomes","sourcesContent":["<template>\n    <div>\n        <!-- income stream label -->\n        <div class=\"form-group\">\n            <label>Chart Label</label>\n            <input v-model=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Label\">\n            <small class=\"form-text text-muted\">\n                The label will be used in the chart: Salary, Rental Income, etc.\n            </small>\n        </div>\n\n        <!-- income stream amount -->\n        <div class=\"form-group\">\n            <label>Amount (Gross)</label>\n            <input type=\"number\" class=\"form-control\" min=\"1\" v-model=\"value\" placeholder=\"Amount\">\n            <small class=\"form-text text-muted\">\n                The amount you make annually from this income stream (pre-tax).\n            </small>\n        </div>\n\n        <!-- income stream tax rate -->\n        <div class=\"form-group\">\n            <label>Tax Rate</label>\n            <input type=\"number\" class=\"form-control\" step=\".001\" min=\"0\" max=\"100\" v-model=\"tax\" placeholder=\"Tax\">\n            <small class=\"form-text text-muted\">\n                The percentage of tax for this income stream.\n            </small>\n        </div>\n\n        <!-- income stream tax exemptions -->\n        <div class=\"form-group\">\n            Does this income stream have any tax-exempt contributions?\n            <span class=\"float-right\">\n                <input type=\"radio\" name=\"gridRadios\" v-on:click=\"addExemption()\">\n                &nbsp;Yes\n                <input type=\"radio\" class=\"no-checkbox\" id=\"no-exemptions-cb\" name=\"gridRadios\" v-on:click=\"exemptions = []\" checked>\n                &nbsp;No\n            </span>\n            <div v-for=\"(exemption, idx) in exemptions\" v-bind:key=\"idx\" class=\"row no-gutters\">\n\n                <!-- income stream tax exemption label -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Chart Label\" class=\"form-control\" v-model=\"exemption.label\" />\n                </div>\n\n                <!-- income stream tax exemption amount -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Contribution\" type=\"number\" class=\"form-control\"  v-model=\"exemption.value\" />\n                </div>\n\n                <!-- income stream tax exemption employer match -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Employer Match\" type=\"number\" class=\"form-control\" v-model=\"exemption.match\" />\n                </div>\n            </div>\n            <small class=\"form-text text-muted\">\n                Examples: 401k, HSA\n                <span class=\"float-right add-exemption\" v-if=\"exemptions.length\" v-on:click=\"addExemption()\">\n                    <i>Add Another</i>\n                </span>\n            </small>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary float-right\" v-on:click=\"addIncome()\">\n            Add Income Stream\n        </button>\n    </div>\n</template>\n\n\n<script>\n\nexport default {\n    name: 'AddIncome',\n    data () {\n        return {\n            // new income stream\n            label: '',\n            value: '',\n            tax:   '',\n            exemptions: []\n        }\n    },\n    methods: {\n        addIncome: function () {\n            this.tax   = parseInt(this.tax);\n            this.value = parseInt(this.value);\n\n            // validate\n            if (isNaN(this.tax) || this.tax < 0 || this.tax > 100) {\n                alert('Income stream tax rate should be between 0 and 100');\n                return;\n            }\n            if (isNaN(this.value) || this.value <= 0) {\n                alert('Income stream amount must be positive number.');\n                return;\n            }\n\n            // validate exemptions - required, valid labels,\n            // sum of exemptions cannot be greater than income stream total\n            var exemption_total = 0;\n            this.exemptions.forEach(exemption => {\n                exemption.value = parseInt(exemption.value);\n                if (isNaN(exemption.value) || exemption.value < 0) {\n                    alert('Exemption amount must be greater or equal to 0.');\n                    return;\n                }\n                exemption.match = parseInt(exemption.match);\n                if (isNaN(exemption.match) || exemption.match < 0) {\n                    alert('Exemption match amount must be greater or equal to 0.');\n                    return;\n                }\n                exemption_total += exemption.value;\n            })\n            if (exemption_total > this.value) {\n                alert('Exemption amount cannot be more than income stream amount!');\n                return;\n            }\n\n            // add the new stream\n            this.$emit('addIncome', {\n                label: this.label,\n                tax: this.tax,\n                value: this.value,\n                exemptions: this.exemptions\n            });\n\n            // reset everything in the form\n            this.label      = '';\n            this.tax        = '';\n            this.value      = '';\n            this.exemptions = [];\n\n            // set no exemptions checkbox\n            document.getElementById('no-exemptions-cb').checked = true;\n        },\n        addExemption: function () {\n            this.exemptions.push({ label: '', value: '', match: '' });\n        },\n    },\n}\n\n</script>\n\n\n<style scoped>\n.exemptions {\n    padding:0px 2px 0px 2px !important;\n    margin-top:5px;\n}\n.add-exemption {\n    cursor:pointer;\n    color: #007bff;\n    text-decoration: none;\n    background-color: transparent;\n}\n\n.no-checkbox {\n     margin-left:10px;\n}\n</style>"]}]}