{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Investments/AddInvestment.vue?vue&type=style&index=0&id=dfb5bfb0&scoped=true&lang=css&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Investments/AddInvestment.vue","mtime":1599078263928},{"path":"/home/adam/Desktop/sankycash/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5idG4uYnRuLXByaW1hcnkubW9iaWxlLW9ubHkgewogICAgd2lkdGg6MTAwJTsKfQoKLmJ0bi5kZXNrdG9wLW9ubHkgewogICAgZmxvYXQ6IHJpZ2h0Owp9CgouYnRuLmJ0bi1wcmltYXJ5LmRlc2t0b3Atb25seSB7CiAgICBtYXJnaW4tbGVmdDogLjVyZW07Cn0KCi5idG4ubW9iaWxlLW9ubHkuY2FuY2VsLWJ0biB7CiAgICBmbG9hdDpyaWdodDsKfQoKLnJlbW92ZS1leHBlbnNlIHsKICAgIGNvbG9yOiByZWQ7Cn0KCi5kZXNrdG9wLW9ubHkgLnJlbW92ZS1leHBlbnNlIHsKICAgIHBhZGRpbmctbGVmdDo1cHg7CiAgICBwYWRkaW5nLXJpZ2h0OjE3cHg7Cn0KCgo="},{"version":3,"sources":["AddInvestment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"AddInvestment.vue","sourceRoot":"src/components/Investments","sourcesContent":["<template>\n    <form v-on:keydown.enter.prevent=\"\">\n        <!-- investment label -->\n        <div class=\"form-group\">\n            <label>{{ $t('common.chart_label') }}</label>\n            <input id=\"new-investment-focus\" v-model=\"label\" type=\"text\" class=\"form-control\" :placeholder=\"$t('common.label')\">\n            <small class=\"form-text text-muted\">\n                {{ $t('investments.chart_label_examples') }}\n            </small>\n        </div>\n\n        <!-- investment amount -->\n        <div class=\"form-group\">\n            <label>{{ $t('common.amount') }}</label>\n            <input id=\"new-investment\" type=\"number\" class=\"form-control\" min=\"1\" v-model=\"value\" :placeholder=\"$t('common.amount')\" v-on:keyup=\"processKeyPress\">\n            <small class=\"form-text text-muted\">\n                {{ $t('investments.amount_examples', {mode: mode}) }}\n            </small>\n        </div>\n        <br class=\"mobile-only\">\n\n        <button class=\"btn btn-primary desktop-only\" v-on:click.enter.prevent=\"addInvestment\" v-on:keyup=\"processKeyPress\">\n            {{ submitText }}\n        </button>\n        <button class=\"btn btn-primary mobile-only\" v-on:click.enter.prevent=\"addInvestment\" v-on:keyup=\"processKeyPress\">\n            {{ submitText }}\n        </button>\n        <span v-if=\"investment\">\n            <!-- Delete Button -->\n            <button class=\"btn btn-link desktop-only remove-expense\" v-on:click.enter.prevent=\"deleteInvestment\">{{ $t('common.delete') }}</button>\n            <button class=\"btn btn-link mobile-only remove-expense\" v-on:click.enter.prevent=\"deleteInvestment\">{{ $t('common.delete') }}</button>\n            <!-- Cancel Button -->\n            <button class=\"btn btn-link desktop-only\" v-on:click.enter.prevent=\"cancelEdit\">{{ $t('common.cancel') }}</button>\n            <button class=\"btn btn-link mobile-only cancel-btn\" v-on:click.enter.prevent=\"cancelEdit\">{{ $t('common.cancel') }}</button>\n        </span>\n    </form>\n</template>\n\n\n<script>\nimport util from '../../util.js';\n\nexport default {\n    name: 'AddInvestment',\n    props: ['unallocatedSum', 'mode', 'investment'],\n    data () {\n        return {\n            // new investment\n            label: '',\n            value: '',\n        }\n    },\n    methods: {\n        addInvestment: function (e) {\n            if (e) e.preventDefault();\n            this.value = parseInt(this.value);\n\n            // validate\n            if (isNaN(this.value) || this.value < 0) {\n                alert(this.$t('investments.value_error'));\n                return;\n            }\n\n            // make sure it's in the budget but take into account edit mode\n            var err   = this.investment ? 'difference_error_edit' : 'difference_error_add';\n            var value = this.investment ? this.value - this.investment.value : this.value;\n            if (value > this.unallocatedSum) {\n                var error = this.$t(`investments.${err}`, {\n                    budget: util.formatMoney(this.unallocatedSum, this.mode)\n                });\n                alert(error);\n                return;\n            }\n\n            // emit\n            this.$emit('addInvestment', {\n                label: this.label,\n                value: this.value\n            });\n\n            // reset\n            this.label = '';\n            this.value = '';\n\n            this.focusNewInvestment();\n        },\n        cancelEdit: function () {\n            this.$emit('editInvestment', false);\n        },\n        deleteInvestment: function () {\n            if (confirm(this.$t('investments.delete_confirmation'))) {\n                this.$emit('removeInvestment');\n            }\n        },\n        populateInvestment: function () {\n            this.value = this.unallocatedSum;\n        },\n        focusNewInvestment: function () {\n            document.getElementById('new-investment-focus').focus();\n        },\n        processKeyPress: function (event) {\n            if (event.keyCode == 13) this.addInvestment();\n        }\n    },\n    computed: {\n        submitText: function () {\n            return this.investment ? this.$t('investments.update') : this.$t('investments.add');\n        }\n    },\n    watch: {\n        investment: function () {\n            this.value = this.investment ? this.investment.value : '';\n            this.label = this.investment ? this.investment.label : '';\n        }\n    }\n}\n\n</script>\n\n<style scoped>\n\n.btn.btn-primary.mobile-only {\n    width:100%;\n}\n\n.btn.desktop-only {\n    float: right;\n}\n\n.btn.btn-primary.desktop-only {\n    margin-left: .5rem;\n}\n\n.btn.mobile-only.cancel-btn {\n    float:right;\n}\n\n.remove-expense {\n    color: red;\n}\n\n.desktop-only .remove-expense {\n    padding-left:5px;\n    padding-right:17px;\n}\n\n\n</style>"]}]}