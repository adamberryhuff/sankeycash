{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js!/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Investments/AddInvestment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Investments/AddInvestment.vue","mtime":1598986128913},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHV0aWwgZnJvbSAnLi4vLi4vdXRpbC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRkSW52ZXN0bWVudCcsCiAgcHJvcHM6IFsndW5hbGxvY2F0ZWRTdW0nLCAnbW9kZScsICdpbnZlc3RtZW50J10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIG5ldyBpbnZlc3RtZW50CiAgICAgIGxhYmVsOiAnJywKICAgICAgdmFsdWU6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYWRkSW52ZXN0bWVudDogZnVuY3Rpb24gYWRkSW52ZXN0bWVudChlKSB7CiAgICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMudmFsdWUgPSBwYXJzZUludCh0aGlzLnZhbHVlKTsgLy8gdmFsaWRhdGUKCiAgICAgIGlmIChpc05hTih0aGlzLnZhbHVlKSB8fCB0aGlzLnZhbHVlIDwgMCkgewogICAgICAgIGFsZXJ0KCdJbnZlc3RtZW50IGFtb3VudCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIScpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGRpZnN0ciA9IHRoaXMuaW52ZXN0bWVudCA/ICdkaWZmZXJlbmNlICcgOiAnJzsKICAgICAgdmFyIHZhbHVlID0gdGhpcy5pbnZlc3RtZW50ID8gdGhpcy52YWx1ZSAtIHRoaXMuaW52ZXN0bWVudC52YWx1ZSA6IHRoaXMudmFsdWU7CgogICAgICBpZiAodmFsdWUgPiB0aGlzLnVuYWxsb2NhdGVkU3VtKSB7CiAgICAgICAgYWxlcnQoIkludmVzdG1lbnQgIi5jb25jYXQoZGlmc3RyLCAibXVzdCBiZSBsZXNzIHRoYW4geW91ciBhdmFpbGFibGUgYnVkZ2V0IG9mICIpLmNvbmNhdCh1dGlsLmZvcm1hdE1vbmV5KHRoaXMudW5hbGxvY2F0ZWRTdW0sIHRoaXMubW9kZSkpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gZW1pdAoKCiAgICAgIHRoaXMuJGVtaXQoJ2FkZEludmVzdG1lbnQnLCB7CiAgICAgICAgbGFiZWw6IHRoaXMubGFiZWwsCiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUKICAgICAgfSk7IC8vIHJlc2V0CgogICAgICB0aGlzLmxhYmVsID0gJyc7CiAgICAgIHRoaXMudmFsdWUgPSAnJzsKICAgICAgdGhpcy5mb2N1c05ld0ludmVzdG1lbnQoKTsKICAgIH0sCiAgICBjYW5jZWxFZGl0OiBmdW5jdGlvbiBjYW5jZWxFZGl0KCkgewogICAgICB0aGlzLiRlbWl0KCdlZGl0SW52ZXN0bWVudCcsIGZhbHNlKTsKICAgIH0sCiAgICBkZWxldGVJbnZlc3RtZW50OiBmdW5jdGlvbiBkZWxldGVJbnZlc3RtZW50KCkgewogICAgICBpZiAoY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIGludmVzdG1lbnQ/IikpIHsKICAgICAgICB0aGlzLiRlbWl0KCdyZW1vdmVJbnZlc3RtZW50Jyk7CiAgICAgIH0KICAgIH0sCiAgICBwb3B1bGF0ZUludmVzdG1lbnQ6IGZ1bmN0aW9uIHBvcHVsYXRlSW52ZXN0bWVudCgpIHsKICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudW5hbGxvY2F0ZWRTdW07CiAgICB9LAogICAgZm9jdXNOZXdJbnZlc3RtZW50OiBmdW5jdGlvbiBmb2N1c05ld0ludmVzdG1lbnQoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctaW52ZXN0bWVudC1mb2N1cycpLmZvY3VzKCk7CiAgICB9LAogICAgcHJvY2Vzc0tleVByZXNzOiBmdW5jdGlvbiBwcm9jZXNzS2V5UHJlc3MoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHRoaXMuYWRkSW52ZXN0bWVudCgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1Ym1pdFRleHQ6IGZ1bmN0aW9uIHN1Ym1pdFRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmludmVzdG1lbnQgPyAnVXBkYXRlIEludmVzdG1lbnQnIDogJ0FkZCBJbnZlc3RtZW50JzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpbnZlc3RtZW50OiBmdW5jdGlvbiBpbnZlc3RtZW50KCkgewogICAgICB0aGlzLnZhbHVlID0gdGhpcy5pbnZlc3RtZW50ID8gdGhpcy5pbnZlc3RtZW50LnZhbHVlIDogJyc7CiAgICAgIHRoaXMubGFiZWwgPSB0aGlzLmludmVzdG1lbnQgPyB0aGlzLmludmVzdG1lbnQubGFiZWwgOiAnJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AddInvestment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,OAAA,IAAA,MAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,KAAA,EAAA,CAAA,gBAAA,EAAA,MAAA,EAAA,YAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA;AACA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,uBAAA,CAAA,EAAA;AACA,UAAA,CAAA,EAAA,CAAA,CAAA,cAAA;AACA,WAAA,KAAA,GAAA,QAAA,CAAA,KAAA,KAAA,CAAA,CAFA,CAIA;;AACA,UAAA,KAAA,CAAA,KAAA,KAAA,CAAA,IAAA,KAAA,KAAA,GAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,8CAAA,CAAA;AACA;AACA;;AAEA,UAAA,MAAA,GAAA,KAAA,UAAA,GAAA,aAAA,GAAA,EAAA;AACA,UAAA,KAAA,GAAA,KAAA,UAAA,GAAA,KAAA,KAAA,GAAA,KAAA,UAAA,CAAA,KAAA,GAAA,KAAA,KAAA;;AACA,UAAA,KAAA,GAAA,KAAA,cAAA,EAAA;AACA,QAAA,KAAA,sBAAA,MAAA,wDAAA,IAAA,CAAA,WAAA,CAAA,KAAA,cAAA,EAAA,KAAA,IAAA,CAAA,EAAA;AACA;AACA,OAfA,CAiBA;;;AACA,WAAA,KAAA,CAAA,eAAA,EAAA;AACA,QAAA,KAAA,EAAA,KAAA,KADA;AAEA,QAAA,KAAA,EAAA,KAAA;AAFA,OAAA,EAlBA,CAuBA;;AACA,WAAA,KAAA,GAAA,EAAA;AACA,WAAA,KAAA,GAAA,EAAA;AAEA,WAAA,kBAAA;AACA,KA7BA;AA8BA,IAAA,UAAA,EAAA,sBAAA;AACA,WAAA,KAAA,CAAA,gBAAA,EAAA,KAAA;AACA,KAhCA;AAiCA,IAAA,gBAAA,EAAA,4BAAA;AACA,UAAA,OAAA,CAAA,kDAAA,CAAA,EAAA;AACA,aAAA,KAAA,CAAA,kBAAA;AACA;AACA,KArCA;AAsCA,IAAA,kBAAA,EAAA,8BAAA;AACA,WAAA,KAAA,GAAA,KAAA,cAAA;AACA,KAxCA;AAyCA,IAAA,kBAAA,EAAA,8BAAA;AACA,MAAA,QAAA,CAAA,cAAA,CAAA,sBAAA,EAAA,KAAA;AACA,KA3CA;AA4CA,IAAA,eAAA,EAAA,yBAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,IAAA,EAAA,EAAA,KAAA,aAAA;AACA;AA9CA,GAVA;AA0DA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,aAAA,KAAA,UAAA,GAAA,mBAAA,GAAA,gBAAA;AACA;AAHA,GA1DA;AA+DA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,WAAA,KAAA,GAAA,KAAA,UAAA,GAAA,KAAA,UAAA,CAAA,KAAA,GAAA,EAAA;AACA,WAAA,KAAA,GAAA,KAAA,UAAA,GAAA,KAAA,UAAA,CAAA,KAAA,GAAA,EAAA;AACA;AAJA;AA/DA,CAAA","sourcesContent":["<template>\n    <form v-on:keydown.enter.prevent=\"\">\n        <!-- investment label -->\n        <div class=\"form-group\">\n            <label>Chart Label</label>\n            <input id=\"new-investment-focus\" v-model=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Label\">\n            <small class=\"form-text text-muted\">\n                The label will be used in the chart: Stocks, Bonds, Roth IRA, Extra Mortgage Payment, etc.\n            </small>\n        </div>\n\n        <!-- investment amount -->\n        <div class=\"form-group\">\n            <label>Amount</label>\n            <input id=\"new-investment\" type=\"number\" class=\"form-control\" min=\"1\" v-model=\"value\" placeholder=\"Amount\" v-on:keyup=\"processKeyPress\">\n            <small class=\"form-text text-muted\">\n                The amount ({{ mode }}) you invest annually in this fund.\n            </small>\n        </div>\n        <br class=\"mobile-only\">\n\n        <button class=\"btn btn-primary desktop-only\" v-on:click.enter.prevent=\"addInvestment\" v-on:keyup=\"processKeyPress\">\n            {{ submitText }}\n        </button>\n        <button class=\"btn btn-primary mobile-only\" v-on:click.enter.prevent=\"addInvestment\" v-on:keyup=\"processKeyPress\">\n            {{ submitText }}\n        </button>\n        <span v-if=\"investment\">\n            <!-- Delete Button -->\n            <button class=\"btn btn-link desktop-only remove-expense\" v-on:click.enter.prevent=\"deleteInvestment\">Remove Investment</button>\n            <button class=\"btn btn-link mobile-only remove-expense\" v-on:click.enter.prevent=\"deleteInvestment\">Remove Investment</button>\n            <!-- Cancel Button -->\n            <button class=\"btn btn-link desktop-only\" v-on:click.enter.prevent=\"cancelEdit\">Cancel Edit</button>\n            <button class=\"btn btn-link mobile-only cancel-btn\" v-on:click.enter.prevent=\"cancelEdit\">Cancel Edit</button>\n        </span>\n    </form>\n</template>\n\n\n<script>\nimport util from '../../util.js';\n\nexport default {\n    name: 'AddInvestment',\n    props: ['unallocatedSum', 'mode', 'investment'],\n    data () {\n        return {\n            // new investment\n            label: '',\n            value: '',\n        }\n    },\n    methods: {\n        addInvestment: function (e) {\n            if (e) e.preventDefault();\n            this.value = parseInt(this.value);\n\n            // validate\n            if (isNaN(this.value) || this.value < 0) {\n                alert('Investment amount must be a positive number!');\n                return;\n            }\n\n            var difstr = this.investment ? 'difference ' : '';\n            var value  = this.investment ? this.value - this.investment.value : this.value;\n            if (value > this.unallocatedSum) {\n                alert(`Investment ${difstr}must be less than your available budget of ${util.formatMoney(this.unallocatedSum, this.mode)}`);\n                return;\n            }\n\n            // emit\n            this.$emit('addInvestment', {\n                label: this.label,\n                value: this.value\n            });\n\n            // reset\n            this.label = '';\n            this.value = '';\n\n            this.focusNewInvestment();\n        },\n        cancelEdit: function () {\n            this.$emit('editInvestment', false);\n        },\n        deleteInvestment: function () {\n            if (confirm(\"Are you sure you want to remove this investment?\")) {\n                this.$emit('removeInvestment');\n            }\n        },\n        populateInvestment: function () {\n            this.value = this.unallocatedSum;\n        },\n        focusNewInvestment: function () {\n            document.getElementById('new-investment-focus').focus();\n        },\n        processKeyPress: function (event) {\n            if (event.keyCode == 13) this.addInvestment();\n        }\n    },\n    computed: {\n        submitText: function () {\n            return this.investment ? 'Update Investment' : 'Add Investment';\n        }\n    },\n    watch: {\n        investment: function () {\n            this.value = this.investment ? this.investment.value : '';\n            this.label = this.investment ? this.investment.label : '';\n        }\n    }\n}\n\n</script>\n\n<style scoped>\n\n.btn.btn-primary.mobile-only {\n    width:100%;\n}\n\n.btn.desktop-only {\n    float: right;\n}\n\n.btn.btn-primary.desktop-only {\n    margin-left: .5rem;\n}\n\n.btn.mobile-only.cancel-btn {\n    float:right;\n}\n\n.remove-expense {\n    color: red;\n}\n\n.desktop-only.remove-expense {\n    padding-left:5px;\n}\n\n</style>"],"sourceRoot":"src/components/Investments"}]}