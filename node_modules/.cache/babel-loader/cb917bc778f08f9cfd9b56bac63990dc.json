{"remainingRequest":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js!/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/adam/Desktop/sankycash/src/components/Incomes/AddIncome.vue","mtime":1598295744971},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/adam/Desktop/sankycash/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkZEluY29tZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIG5ldyBpbmNvbWUgc3RyZWFtCiAgICAgIGxhYmVsOiAnJywKICAgICAgdmFsdWU6ICcnLAogICAgICB0YXg6ICcnLAogICAgICBleGVtcHRpb25zOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEluY29tZTogZnVuY3Rpb24gYWRkSW5jb21lKCkgewogICAgICAvLyB2YWxpZGF0ZQogICAgICB0aGlzLnZhbHVlID0gcGFyc2VJbnQodGhpcy52YWx1ZSk7CgogICAgICBpZiAoaXNOYU4odGhpcy50YXgpIHx8IHRoaXMudGF4IDwgMCB8fCB0aGlzLnRheCA+IDEwMCkgewogICAgICAgIGFsZXJ0KCdJbmNvbWUgc3RyZWFtIHRheCByYXRlIHNob3VsZCBiZSBiZXR3ZWVuIDAgYW5kIDEwMCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGlzTmFOKHRoaXMudmFsdWUpIHx8IHRoaXMudmFsdWUgPD0gMCkgewogICAgICAgIGFsZXJ0KCdJbmNvbWUgc3RyZWFtIGFtb3VudCBtdXN0IGJlIHBvc2l0aXZlIG51bWJlci4nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gdmFsaWRhdGUgZXhlbXB0aW9ucyAtIHJlcXVpcmVkLCB2YWxpZCBsYWJlbHMsCiAgICAgIC8vIHN1bSBvZiBleGVtcHRpb25zIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gaW5jb21lIHN0cmVhbSB0b3RhbAoKCiAgICAgIHZhciBleGVtcHRpb25fdG90YWwgPSAwOwogICAgICB0aGlzLmV4ZW1wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoZXhlbXB0aW9uKSB7CiAgICAgICAgZXhlbXB0aW9uLnZhbHVlID0gcGFyc2VJbnQoZXhlbXB0aW9uLnZhbHVlKTsKCiAgICAgICAgaWYgKGlzTmFOKGV4ZW1wdGlvbi52YWx1ZSkgfHwgZXhlbXB0aW9uLnZhbHVlIDwgMCkgewogICAgICAgICAgYWxlcnQoJ0V4ZW1wdGlvbiBhbW91bnQgbXVzdCBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIDAuJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoaXNOYU4oZXhlbXB0aW9uLm1hdGNoKSB8fCBleGVtcHRpb24ubWF0Y2ggPCAwKSB7CiAgICAgICAgICBhbGVydCgnRXhlbXB0aW9uIG1hdGNoIGFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gMC4nKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGV4ZW1wdGlvbl90b3RhbCArPSBleGVtcHRpb24udmFsdWU7CiAgICAgIH0pOwoKICAgICAgaWYgKGV4ZW1wdGlvbl90b3RhbCA+IHRoaXMudmFsdWUpIHsKICAgICAgICBhbGVydCgnRXhlbXB0aW9uIGFtb3VudCBjYW5ub3QgYmUgbW9yZSB0aGFuIGluY29tZSBzdHJlYW0gYW1vdW50IScpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBhZGQgdGhlIG5ldyBzdHJlYW0KCgogICAgICB0aGlzLiRlbWl0KCdhZGRJbmNvbWUnLCB7CiAgICAgICAgbGFiZWw6IHRoaXMubGFiZWwsCiAgICAgICAgdGF4OiB0aGlzLnRheCwKICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSwKICAgICAgICBleGVtcHRpb25zOiB0aGlzLmV4ZW1wdGlvbnMKICAgICAgfSk7IC8vIHJlc2V0IGV2ZXJ5dGhpbmcgaW4gdGhlIGZvcm0KCiAgICAgIHRoaXMubGFiZWwgPSAnJzsKICAgICAgdGhpcy50YXggPSAnJzsKICAgICAgdGhpcy52YWx1ZSA9ICcnOwogICAgICB0aGlzLmV4ZW1wdGlvbnMgPSBbXTsKICAgIH0sCiAgICBhZGRFeGVtcHRpb246IGZ1bmN0aW9uIGFkZEV4ZW1wdGlvbigpIHsKICAgICAgdGhpcy5leGVtcHRpb25zLnB1c2goewogICAgICAgIGxhYmVsOiAnJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgbWF0Y2g6ICcnCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AddIncome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,GAAA,EAAA,EAJA;AAKA,MAAA,UAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA;AACA,WAAA,KAAA,GAAA,QAAA,CAAA,KAAA,KAAA,CAAA;;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,CAAA,IAAA,KAAA,GAAA,GAAA,CAAA,IAAA,KAAA,GAAA,GAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,oDAAA,CAAA;AACA;AACA;;AACA,UAAA,KAAA,CAAA,KAAA,KAAA,CAAA,IAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,+CAAA,CAAA;AACA;AACA,OAVA,CAYA;AACA;;;AACA,UAAA,eAAA,GAAA,CAAA;AACA,WAAA,UAAA,CAAA,OAAA,CAAA,UAAA,SAAA,EAAA;AACA,QAAA,SAAA,CAAA,KAAA,GAAA,QAAA,CAAA,SAAA,CAAA,KAAA,CAAA;;AACA,YAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,SAAA,CAAA,KAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,iDAAA,CAAA;AACA;AACA;;AACA,YAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,SAAA,CAAA,KAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,uDAAA,CAAA;AACA;AACA;;AACA,QAAA,eAAA,IAAA,SAAA,CAAA,KAAA;AACA,OAXA;;AAYA,UAAA,eAAA,GAAA,KAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,4DAAA,CAAA;AACA;AACA,OA9BA,CAgCA;;;AACA,WAAA,KAAA,CAAA,WAAA,EAAA;AACA,QAAA,KAAA,EAAA,KAAA,KADA;AAEA,QAAA,GAAA,EAAA,KAAA,GAFA;AAGA,QAAA,KAAA,EAAA,KAAA,KAHA;AAIA,QAAA,UAAA,EAAA,KAAA;AAJA,OAAA,EAjCA,CAwCA;;AACA,WAAA,KAAA,GAAA,EAAA;AACA,WAAA,GAAA,GAAA,EAAA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,KA9CA;AA+CA,IAAA,YAAA,EAAA,wBAAA;AACA,WAAA,UAAA,CAAA,IAAA,CAAA;AAAA,QAAA,KAAA,EAAA,EAAA;AAAA,QAAA,KAAA,EAAA,EAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA;AAjDA;AAXA,CAAA","sourcesContent":["<template>\n    <div>\n        <!-- income stream label -->\n        <div class=\"form-group\">\n            <label>Chart Label</label>\n            <input v-model=\"label\" type=\"text\" class=\"form-control\" placeholder=\"Label\">\n            <small class=\"form-text text-muted\">\n                The label is used in the chart: Salary, Rental Income, etc.\n            </small>\n        </div>\n\n        <!-- income stream amount -->\n        <div class=\"form-group\">\n            <label>Amount (Gross)</label>\n            <input type=\"number\" class=\"form-control\" min=\"1\" v-model=\"value\" placeholder=\"Amount\">\n            <small class=\"form-text text-muted\">\n                The amount you make annually from this income stream (pre-tax).\n            </small>\n        </div>\n\n        <!-- income stream tax rate -->\n        <div class=\"form-group\">\n            <label>Tax Rate</label>\n            <input type=\"number\" class=\"form-control\" step=\".001\" min=\"0\" max=\"100\" v-model=\"tax\" placeholder=\"Tax\">\n            <small class=\"form-text text-muted\">\n                The percentage of tax for this income stream.\n            </small>\n        </div>\n\n        <!-- income stream tax exemptions -->\n        <div class=\"form-group\">\n            Does this income stream have any tax-exempt contributions?\n            <span class=\"float-right\">\n                <input type=\"radio\" name=\"gridRadios\" v-on:click=\"addExemption()\">\n                &nbsp;Yes\n                <input type=\"radio\" name=\"gridRadios\" v-on:click=\"exemptions = []\" checked>\n                &nbsp;No\n            </span>\n            <div v-for=\"(exemption, idx) in exemptions\" v-bind:key=\"idx\" class=\"row no-gutters\">\n\n                <!-- income stream tax exemption label -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Chart Label\" class=\"form-control\" v-model=\"exemption.label\" />\n                </div>\n\n                <!-- income stream tax exemption amount -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Contribution\" type=\"number\" class=\"form-control\"  v-model=\"exemption.value\" />\n                </div>\n\n                <!-- income stream tax exemption employer match -->\n                <div class=\"col-md-4 exemptions\">\n                    <input placeholder=\"Employer Match\" type=\"number\" class=\"form-control\" v-model=\"exemption.match\" />\n                </div>\n            </div>\n            <small class=\"form-text text-muted\">\n                Examples: 401k, HSA\n                <span class=\"float-right add-exemption\" v-if=\"exemptions.length\" v-on:click=\"addExemption()\">\n                    <i>Add Another</i>\n                </span>\n            </small>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary float-right\" v-on:click=\"addIncome()\">\n            Add Income Stream\n        </button>\n    </div>\n</template>\n\n\n<script>\n\nexport default {\n    name: 'AddIncome',\n    data () {\n        return {\n            // new income stream\n            label: '',\n            value: '',\n            tax:   '',\n            exemptions: []\n        }\n    },\n    methods: {\n        addIncome: function () {\n            // validate\n            this.value = parseInt(this.value);\n            if (isNaN(this.tax) || this.tax < 0 || this.tax > 100) {\n                alert('Income stream tax rate should be between 0 and 100');\n                return;\n            }\n            if (isNaN(this.value) || this.value <= 0) {\n                alert('Income stream amount must be positive number.');\n                return;\n            }\n\n            // validate exemptions - required, valid labels,\n            // sum of exemptions cannot be greater than income stream total\n            var exemption_total = 0;\n            this.exemptions.forEach(exemption => {\n                exemption.value = parseInt(exemption.value);\n                if (isNaN(exemption.value) || exemption.value < 0) {\n                    alert('Exemption amount must be greater or equal to 0.');\n                    return;\n                }\n                if (isNaN(exemption.match) || exemption.match < 0) {\n                    alert('Exemption match amount must be greater or equal to 0.');\n                    return;\n                }\n                exemption_total += exemption.value;\n            })\n            if (exemption_total > this.value) {\n                alert('Exemption amount cannot be more than income stream amount!');\n                return;\n            }\n\n            // add the new stream\n            this.$emit('addIncome', {\n                label: this.label,\n                tax: this.tax,\n                value: this.value,\n                exemptions: this.exemptions\n            });\n\n            // reset everything in the form\n            this.label      = '';\n            this.tax        = '';\n            this.value      = '';\n            this.exemptions = [];\n        },\n        addExemption: function () {\n            this.exemptions.push({ label: '', value: '', match: '' });\n        },\n    },\n}\n\n</script>\n\n\n<style scoped>\n.exemptions {\n    padding:0px 2px 0px 2px !important;\n    margin-top:5px;\n}\n.add-exemption {\n    cursor:pointer;\n    color: #007bff;\n    text-decoration: none;\n    background-color: transparent;\n}\n</style>"],"sourceRoot":"src/components/Incomes"}]}